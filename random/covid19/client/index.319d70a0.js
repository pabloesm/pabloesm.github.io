import{w as t,S as n,i as e,s as r,e as i,t as o,a,c as u,b as s,d as c,f as l,g as f,h as p,j as h,k as d,l as m,n as g,m as v,o as y,p as w,q as b,r as _,u as x,v as M,x as E,y as k,z as S,A as T,B as A,C,D,E as N,F as $,G as O,H as j,I as L,J as I,K as P,L as U}from"./client.8d83f58f.js";function H(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function q(t){var n;return 1===t.length&&(n=t,t=function(t,e){return H(n(t),e)}),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}}var F=q(H).right;function V(t,n){var e,r,i,o=t.length,a=-1;if(null==n){for(;++a<o;)if(null!=(e=t[a])&&e>=e)for(r=i=e;++a<o;)null!=(e=t[a])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++a<o;)if(null!=(e=n(t[a],a,t))&&e>=e)for(r=i=e;++a<o;)null!=(e=n(t[a],a,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]}var z=Math.sqrt(50),Y=Math.sqrt(10),R=Math.sqrt(2);function B(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=Z(t,n,e))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),o=new Array(i=Math.ceil(n-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),n=Math.ceil(n*a),o=new Array(i=Math.ceil(t-n+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o}function Z(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=z?10:o>=Y?5:o>=R?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=z?10:o>=Y?5:o>=R?2:1)}function W(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=z?i*=10:o>=Y?i*=5:o>=R&&(i*=2),n<t?-i:i}function X(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&e>r&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&e>r&&(r=e);return r}function Q(t){for(var n,e,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(e=new Array(a);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--a]=r[n];return e}var J=Array.prototype.slice;function G(t){return t}var K=1,tt=2,nt=3,et=4,rt=1e-6;function it(t){return"translate("+(t+.5)+",0)"}function ot(t){return"translate(0,"+(t+.5)+")"}function at(){return!this.__axis}function ut(t,n){var e=[],r=null,i=null,o=6,a=6,u=3,s=t===K||t===et?-1:1,c=t===et||t===tt?"x":"y",l=t===K||t===nt?it:ot;function f(f){var p=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,h=null==i?n.tickFormat?n.tickFormat.apply(n,e):G:i,d=Math.max(o,0)+u,m=n.range(),g=+m[0]+.5,v=+m[m.length-1]+.5,y=(n.bandwidth?function(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}:function(t){return function(n){return+t(n)}})(n.copy()),w=f.selection?f.selection():f,b=w.selectAll(".domain").data([null]),_=w.selectAll(".tick").data(p,n).order(),x=_.exit(),M=_.enter().append("g").attr("class","tick"),E=_.select("line"),k=_.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(M),E=E.merge(M.append("line").attr("stroke","currentColor").attr(c+"2",s*o)),k=k.merge(M.append("text").attr("fill","currentColor").attr(c,s*d).attr("dy",t===K?"0em":t===nt?"0.71em":"0.32em")),f!==w&&(b=b.transition(f),_=_.transition(f),E=E.transition(f),k=k.transition(f),x=x.transition(f).attr("opacity",rt).attr("transform",function(t){return isFinite(t=y(t))?l(t):this.getAttribute("transform")}),M.attr("opacity",rt).attr("transform",function(t){var n=this.parentNode.__axis;return l(n&&isFinite(n=n(t))?n:y(t))})),x.remove(),b.attr("d",t===et||t==tt?a?"M"+s*a+","+g+"H0.5V"+v+"H"+s*a:"M0.5,"+g+"V"+v:a?"M"+g+","+s*a+"V0.5H"+v+"V"+s*a:"M"+g+",0.5H"+v),_.attr("opacity",1).attr("transform",function(t){return l(y(t))}),E.attr(c+"2",s*o),k.attr(c,s*d).text(h),w.filter(at).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===tt?"start":t===et?"end":"middle"),w.each(function(){this.__axis=y})}return f.scale=function(t){return arguments.length?(n=t,f):n},f.ticks=function(){return e=J.call(arguments),f},f.tickArguments=function(t){return arguments.length?(e=null==t?[]:J.call(t),f):e.slice()},f.tickValues=function(t){return arguments.length?(r=null==t?null:J.call(t),f):r&&r.slice()},f.tickFormat=function(t){return arguments.length?(i=t,f):i},f.tickSize=function(t){return arguments.length?(o=a=+t,f):o},f.tickSizeInner=function(t){return arguments.length?(o=+t,f):o},f.tickSizeOuter=function(t){return arguments.length?(a=+t,f):a},f.tickPadding=function(t){return arguments.length?(u=+t,f):u},f}function st(t){return ut(nt,t)}function ct(t){return ut(et,t)}var lt={value:function(){}};function ft(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new pt(r)}function pt(t){this._=t}function ht(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function dt(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=lt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}pt.prototype=ft.prototype={constructor:pt,on:function(t,n){var e,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),a=-1,u=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<u;)if(e=(t=o[a]).type)i[e]=dt(i[e],t.name,n);else if(null==n)for(e in i)i[e]=dt(i[e],t.name,null);return this}for(;++a<u;)if((e=(t=o[a]).type)&&(e=ht(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new pt(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var mt="http://www.w3.org/1999/xhtml",gt={svg:"http://www.w3.org/2000/svg",xhtml:mt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function vt(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),gt.hasOwnProperty(n)?{space:gt[n],local:t}:t}function yt(t){var n=vt(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===mt&&n.documentElement.namespaceURI===mt?n.createElement(t):n.createElementNS(e,t)}})(n)}function wt(){}function bt(t){return null==t?wt:function(){return this.querySelector(t)}}function _t(){return[]}function xt(t){return null==t?_t:function(){return this.querySelectorAll(t)}}function Mt(t){return function(){return this.matches(t)}}function Et(t){return new Array(t.length)}function kt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}kt.prototype={constructor:kt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var St="$";function Tt(t,n,e,r,i,o){for(var a,u=0,s=n.length,c=o.length;u<c;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new kt(t,o[u]);for(;u<s;++u)(a=n[u])&&(i[u]=a)}function At(t,n,e,r,i,o,a){var u,s,c,l={},f=n.length,p=o.length,h=new Array(f);for(u=0;u<f;++u)(s=n[u])&&(h[u]=c=St+a.call(s,s.__data__,u,n),c in l?i[u]=s:l[c]=s);for(u=0;u<p;++u)(s=l[c=St+a.call(t,o[u],u,o)])?(r[u]=s,s.__data__=o[u],l[c]=null):e[u]=new kt(t,o[u]);for(u=0;u<f;++u)(s=n[u])&&l[h[u]]===s&&(i[u]=s)}function Ct(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Dt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Nt(t,n){return t.style.getPropertyValue(n)||Dt(t).getComputedStyle(t,null).getPropertyValue(n)}function $t(t){return t.trim().split(/^|\s+/)}function Ot(t){return t.classList||new jt(t)}function jt(t){this._node=t,this._names=$t(t.getAttribute("class")||"")}function Lt(t,n){for(var e=Ot(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function It(t,n){for(var e=Ot(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Pt(){this.textContent=""}function Ut(){this.innerHTML=""}function Ht(){this.nextSibling&&this.parentNode.appendChild(this)}function qt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ft(){return null}function Vt(){var t=this.parentNode;t&&t.removeChild(this)}function zt(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Yt(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}jt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Rt={};"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Rt={mouseenter:"mouseover",mouseleave:"mouseout"}));function Bt(t,n,e){return t=Zt(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function Zt(t,n,e){return function(r){try{t.call(this,this.__data__,n,e)}finally{}}}function Wt(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function Xt(t,n,e){var r=Rt.hasOwnProperty(t.type)?Bt:Zt;return function(i,o,a){var u,s=this.__on,c=r(n,o,a);if(s)for(var l=0,f=s.length;l<f;++l)if((u=s[l]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=e),void(u.value=n);this.addEventListener(t.type,c,e),u={type:t.type,name:t.name,value:n,listener:c,capture:e},s?s.push(u):this.__on=[u]}}function Qt(t,n,e){var r=Dt(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}var Jt=[null];function Gt(t,n){this._groups=t,this._parents=n}function Kt(){return new Gt([[document.documentElement]],Jt)}function tn(t){return"string"==typeof t?new Gt([[document.querySelector(t)]],[document.documentElement]):new Gt([[t]],Jt)}function nn(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function en(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function rn(){}Gt.prototype=Kt.prototype={constructor:Gt,select:function(t){"function"!=typeof t&&(t=bt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],s=u.length,c=r[i]=new Array(s),l=0;l<s;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new Gt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=xt(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],s=u.length,c=0;c<s;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new Gt(r,i)},filter:function(t){"function"!=typeof t&&(t=Mt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new Gt(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),l=-1,this.each(function(t){d[++l]=t}),d;var e,r=n?At:Tt,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,u=new Array(a),s=new Array(a),c=new Array(a),l=0;l<a;++l){var f=i[l],p=o[l],h=p.length,d=t.call(f,f&&f.__data__,l,i),m=d.length,g=s[l]=new Array(m),v=u[l]=new Array(m);r(f,p,g,v,c[l]=new Array(h),d,n);for(var y,w,b=0,_=0;b<m;++b)if(y=g[b]){for(b>=_&&(_=b+1);!(w=v[_])&&++_<m;);y._next=w||null}}return(u=new Gt(u,i))._enter=s,u._exit=c,u},enter:function(){return new Gt(this._enter||this._groups.map(Et),this._parents)},exit:function(){return new Gt(this._exit||this._groups.map(Et),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],l=e[u],f=c.length,p=a[u]=new Array(f),h=0;h<f;++h)(s=c[h]||l[h])&&(p[h]=s);for(;u<r;++u)a[u]=n[u];return new Gt(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=Ct);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],s=u.length,c=i[o]=new Array(s),l=0;l<s;++l)(a=u[l])&&(c[l]=a);c.sort(n)}return new Gt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=vt(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):Nt(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=$t(t+"");if(arguments.length<2){for(var r=Ot(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?Lt:It)(this,t)}}:n?function(t){return function(){Lt(this,t)}}:function(t){return function(){It(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?Pt:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Ut:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(Ht)},lower:function(){return this.each(qt)},append:function(t){var n="function"==typeof t?t:yt(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:yt(t),r=null==n?Ft:"function"==typeof n?n:bt(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Vt)},clone:function(t){return this.select(t?Yt:zt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?Xt:Wt,null==e&&(e=!1),r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var s,c=0,l=u.length;c<l;++c)for(r=0,s=u[c];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return Qt(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return Qt(this,t,n)}})(t,n))}};var on="\\s*([+-]?\\d+)\\s*",an="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",un="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sn=/^#([0-9a-f]{3,8})$/,cn=new RegExp("^rgb\\("+[on,on,on]+"\\)$"),ln=new RegExp("^rgb\\("+[un,un,un]+"\\)$"),fn=new RegExp("^rgba\\("+[on,on,on,an]+"\\)$"),pn=new RegExp("^rgba\\("+[un,un,un,an]+"\\)$"),hn=new RegExp("^hsl\\("+[an,un,un]+"\\)$"),dn=new RegExp("^hsla\\("+[an,un,un,an]+"\\)$"),mn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function gn(){return this.rgb().formatHex()}function vn(){return this.rgb().formatRgb()}function yn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=sn.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?wn(n):3===e?new xn(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?new xn(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?new xn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=cn.exec(t))?new xn(n[1],n[2],n[3],1):(n=ln.exec(t))?new xn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=fn.exec(t))?bn(n[1],n[2],n[3],n[4]):(n=pn.exec(t))?bn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=hn.exec(t))?Sn(n[1],n[2]/100,n[3]/100,1):(n=dn.exec(t))?Sn(n[1],n[2]/100,n[3]/100,n[4]):mn.hasOwnProperty(t)?wn(mn[t]):"transparent"===t?new xn(NaN,NaN,NaN,0):null}function wn(t){return new xn(t>>16&255,t>>8&255,255&t,1)}function bn(t,n,e,r){return r<=0&&(t=n=e=NaN),new xn(t,n,e,r)}function _n(t,n,e,r){return 1===arguments.length?((i=t)instanceof rn||(i=yn(i)),i?new xn((i=i.rgb()).r,i.g,i.b,i.opacity):new xn):new xn(t,n,e,null==r?1:r);var i}function xn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Mn(){return"#"+kn(this.r)+kn(this.g)+kn(this.b)}function En(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function kn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Sn(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new An(t,n,e,r)}function Tn(t){if(t instanceof An)return new An(t.h,t.s,t.l,t.opacity);if(t instanceof rn||(t=yn(t)),!t)return new An;if(t instanceof An)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new An(a,u,s,t.opacity)}function An(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Cn(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Dn(t){return function(){return t}}function Nn(t){return 1==(t=+t)?$n:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Dn(isNaN(n)?e:n)}}function $n(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):Dn(isNaN(t)?n:t)}nn(rn,yn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:gn,formatHex:gn,formatHsl:function(){return Tn(this).formatHsl()},formatRgb:vn,toString:vn}),nn(xn,_n,en(rn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new xn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new xn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Mn,formatHex:Mn,formatRgb:En,toString:En})),nn(An,function(t,n,e,r){return 1===arguments.length?Tn(t):new An(t,n,e,null==r?1:r)},en(rn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new An(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new An(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new xn(Cn(t>=240?t-240:t+120,i,r),Cn(t,i,r),Cn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var On=function t(n){var e=Nn(n);function r(t,n){var r=e((t=_n(t)).r,(n=_n(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=$n(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);var jn,Ln=(jn=function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<n-1?t[r+2]:2*o-i;return function(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}((e-r/n)*n,a,i,o,u)}},function(t){var n,e,r=t.length,i=new Array(r),o=new Array(r),a=new Array(r);for(n=0;n<r;++n)e=_n(t[n]),i[n]=e.r||0,o[n]=e.g||0,a[n]=e.b||0;return i=jn(i),o=jn(o),a=jn(a),e.opacity=1,function(t){return e.r=i(t),e.g=o(t),e.b=a(t),e+""}});function In(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var Pn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Un=new RegExp(Pn.source,"g");function Hn(t,n){var e,r,i,o=Pn.lastIndex=Un.lastIndex=0,a=-1,u=[],s=[];for(t+="",n+="";(e=Pn.exec(t))&&(r=Un.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:In(e,r)})),o=Un.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})}function qn(t,n){var e,r,i=typeof n;return null==n||"boolean"===i?Dn(n):("number"===i?In:"string"===i?(e=yn(n))?(n=e,On):Hn:n instanceof yn?On:n instanceof Date?function(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?function(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=qn(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?function(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=qn(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}:In:function(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}))(t,n)}function Fn(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Vn,zn,Yn,Rn,Bn=180/Math.PI,Zn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Wn(t,n,e,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,s/=u),t*r<n*e&&(t=-t,n=-n,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Bn,skewX:Math.atan(s)*Bn,scaleX:a,scaleY:u}}function Xn(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],s=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var s=a.push("translate(",null,n,null,e);u.push({i:s-4,x:In(t,i)},{i:s-2,x:In(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,s),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:In(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,s),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:In(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,s),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:In(t,e)},{i:u-2,x:In(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,s),o=a=null,function(t){for(var n,e=-1,r=s.length;++e<r;)u[(n=s[e]).i]=n.x(t);return u.join("")}}}var Qn,Jn,Gn=Xn(function(t){return"none"===t?Zn:(Vn||(Vn=document.createElement("DIV"),zn=document.documentElement,Yn=document.defaultView),Vn.style.transform=t,t=Yn.getComputedStyle(zn.appendChild(Vn),null).getPropertyValue("transform"),zn.removeChild(Vn),Wn(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Kn=Xn(function(t){return null==t?Zn:(Rn||(Rn=document.createElementNS("http://www.w3.org/2000/svg","g")),Rn.setAttribute("transform",t),(t=Rn.transform.baseVal.consolidate())?Wn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Zn)},", ",")",")"),te=0,ne=0,ee=0,re=1e3,ie=0,oe=0,ae=0,ue="object"==typeof performance&&performance.now?performance:Date,se="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ce(){return oe||(se(le),oe=ue.now()+ae)}function le(){oe=0}function fe(){this._call=this._time=this._next=null}function pe(t,n,e){var r=new fe;return r.restart(t,n,e),r}function he(){oe=(ie=ue.now())+ae,te=ne=0;try{!function(){ce(),++te;for(var t,n=Qn;n;)(t=oe-n._time)>=0&&n._call.call(null,t),n=n._next;--te}()}finally{te=0,function(){var t,n,e=Qn,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Qn=n);Jn=t,me(r)}(),oe=0}}function de(){var t=ue.now(),n=t-ie;n>re&&(ae-=n,ie=t)}function me(t){te||(ne&&(ne=clearTimeout(ne)),t-oe>24?(t<1/0&&(ne=setTimeout(he,t-ue.now()-ae)),ee&&(ee=clearInterval(ee))):(ee||(ie=ue.now(),ee=setInterval(de,re)),te=1,se(he)))}function ge(t,n,e){var r=new fe;return n=null==n?0:+n,r.restart(function(e){r.stop(),t(e+n)},n,e),r}fe.prototype=pe.prototype={constructor:fe,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?ce():+e)+(null==n?0:+n),this._next||Jn===this||(Jn?Jn._next=this:Qn=this,Jn=this),this._call=t,this._time=e,me()},stop:function(){this._call&&(this._call=null,this._time=1/0,me())}};var ve=ft("start","end","cancel","interrupt"),ye=[],we=0,be=1,_e=2,xe=3,Me=4,Ee=5,ke=6;function Se(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(s){var c,l,f,p;if(e.state!==be)return u();for(c in i)if((p=i[c]).name===e.name){if(p.state===xe)return ge(o);p.state===Me?(p.state=ke,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete i[c]):+c<n&&(p.state=ke,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete i[c])}if(ge(function(){e.state===xe&&(e.state=Me,e.timer.restart(a,e.delay,e.time),a(s))}),e.state=_e,e.on.call("start",t,t.__data__,e.index,e.group),e.state===_e){for(e.state=xe,r=new Array(f=e.tween.length),c=0,l=-1;c<f;++c)(p=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(r[++l]=p);r.length=l+1}}function a(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=Ee,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);e.state===Ee&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=ke,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=pe(function(t){e.state=be,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)},0,e.time)}(t,e,{name:n,index:r,group:i,on:ve,tween:ye,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:we})}function Te(t,n){var e=Ce(t,n);if(e.state>we)throw new Error("too late; already scheduled");return e}function Ae(t,n){var e=Ce(t,n);if(e.state>xe)throw new Error("too late; already running");return e}function Ce(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function De(t,n,e){var r=t._id;return t.each(function(){var t=Ae(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return Ce(t,r).value[n]}}function Ne(t,n){var e;return("number"==typeof n?In:n instanceof yn?On:(e=yn(n))?(n=e,On):Hn)(t,n)}var $e=Kt.prototype.constructor;function Oe(t){return function(){this.style.removeProperty(t)}}var je=0;function Le(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Ie(){return++je}var Pe=Kt.prototype;Le.prototype=function(t){return Kt().transition(t)}.prototype={constructor:Le,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=bt(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,s,c=r[a],l=c.length,f=o[a]=new Array(l),p=0;p<l;++p)(u=c[p])&&(s=t.call(u,u.__data__,p,c))&&("__data__"in u&&(s.__data__=u.__data__),f[p]=s,Se(f[p],n,e,p,f,Ce(u,e)));return new Le(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=xt(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s,c=r[u],l=c.length,f=0;f<l;++f)if(s=c[f]){for(var p,h=t.call(s,s.__data__,f,c),d=Ce(s,e),m=0,g=h.length;m<g;++m)(p=h[m])&&Se(p,n,e,m,h,d);o.push(h),a.push(s)}return new Le(o,a,n,e)},filter:function(t){"function"!=typeof t&&(t=Mt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new Le(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],l=e[u],f=c.length,p=a[u]=new Array(f),h=0;h<f;++h)(s=c[h]||l[h])&&(p[h]=s);for(;u<r;++u)a[u]=n[u];return new Le(a,this._parents,this._name,this._id)},selection:function(){return new $e(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Ie(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)if(a=u[c]){var l=Ce(a,n);Se(a,t,e,c,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Le(r,this._parents,t,e)},call:Pe.call,nodes:Pe.nodes,node:Pe.node,size:Pe.size,empty:Pe.empty,each:Pe.each,on:function(t,n){var e=this._id;return arguments.length<2?Ce(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(n)?Te:Ae;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}(e,t,n))},attr:function(t,n){var e=vt(t),r="transform"===e?Kn:Ne;return this.attrTween(t,"function"==typeof n?(e.local?function(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttributeNS(t.space,t.local)}}:function(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttribute(t))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttribute(t)}})(e,r,De(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}:function(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}})(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=vt(t);return this.tween(e,(r.local?function(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,i)),e}return i._value=n,i}:function(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,i)),e}return i._value=n,i})(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Gn:Ne;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=Nt(this,t),a=(this.style.removeProperty(t),Nt(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,Oe(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=Nt(this,t),u=e(this),s=u+"";return null==u&&(this.style.removeProperty(t),s=u=Nt(this,t)),a===s?null:a===r&&s===i?o:(i=s,o=n(r=a,u))}}(t,r,De(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,u="end."+a;return function(){var s=Ae(this,t),c=s.on,l=null==s.value[a]?o||(o=Oe(n)):void 0;c===e&&i===l||(r=(e=c).copy()).on(u,i=l),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=Nt(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}(t,o,e)),r}return o._value=n,o}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(De(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&function(t){return function(n){this.textContent=t.call(this,n)}}(r)),n}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Ce(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?function(t,n){var e,r;return function(){var i=Ae(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}:function(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Ae(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},s=0,c=i.length;s<c;++s)if(i[s].name===n){i[s]=u;break}s===c&&i.push(u)}o.tween=i}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Te(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Te(this,t).delay=n}})(n,t)):Ce(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Ae(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Ae(this,t).duration=n}})(n,t)):Ce(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Ae(this,t).ease=n}}(n,t)):Ce(this.node(),n).ease},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,a){var u={value:a},s={value:function(){0==--i&&o()}};e.each(function(){var e=Ae(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(s)),e.on=n})})}};var Ue={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function He(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return Ue.time=ce(),Ue;return e}Kt.prototype.interrupt=function(t){return this.each(function(){!function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>_e&&e.state<Ee,e.state=ke,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)})},Kt.prototype.transition=function(t){var n,e;t instanceof Le?(n=t._id,t=t._name):(n=Ie(),(e=Ue).time=ce(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)(a=u[c])&&Se(a,t,n,c,u,e||He(a,n));return new Le(r,this._parents,t,n)};var qe=Math.PI,Fe=2*qe,Ve=Fe-1e-6;function ze(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ye(){return new ze}ze.prototype=Ye.prototype={constructor:ze,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,a=this._y1,u=e-t,s=r-n,c=o-t,l=a-n,f=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(f>1e-6)if(Math.abs(l*u-s*c)>1e-6&&i){var p=e-o,h=r-a,d=u*u+s*s,m=p*p+h*h,g=Math.sqrt(d),v=Math.sqrt(f),y=i*Math.tan((qe-Math.acos((d+f-m)/(2*g*v)))/2),w=y/v,b=y/g;Math.abs(w-1)>1e-6&&(this._+="L"+(t+w*c)+","+(n+w*l)),this._+="A"+i+","+i+",0,0,"+ +(l*p>c*h)+","+(this._x1=t+b*u)+","+(this._y1=n+b*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n,o=!!o;var a=(e=+e)*Math.cos(r),u=e*Math.sin(r),s=t+a,c=n+u,l=1^o,f=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+s+","+c),e&&(f<0&&(f=f%Fe+Fe),f>Ve?this._+="A"+e+","+e+",0,1,"+l+","+(t-a)+","+(n-u)+"A"+e+","+e+",0,1,"+l+","+(this._x1=s)+","+(this._y1=c):f>1e-6&&(this._+="A"+e+","+e+",0,"+ +(f>=qe)+","+l+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};function Re(){}function Be(t,n){var e=new Re;if(t instanceof Re)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}function Ze(){}Re.prototype=Be.prototype={constructor:Re,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var We=Be.prototype;function Xe(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Qe(t){return(t=Xe(Math.abs(t)))?t[1]:NaN}Ze.prototype=function(t,n){var e=new Ze;if(t instanceof Ze)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}.prototype={constructor:Ze,has:We.has,add:function(t){return this["$"+(t+="")]=t,this},remove:We.remove,clear:We.clear,values:We.keys,size:We.size,empty:We.empty,each:We.each};var Je,Ge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ke(t){if(!(n=Ge.exec(t)))throw new Error("invalid format: "+t);var n;return new tr({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function tr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function nr(t,n){var e=Xe(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Ke.prototype=tr.prototype,tr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var er={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return nr(100*t,n)},r:nr,s:function(t,n){var e=Xe(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Je=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Xe(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function rr(t){return t}var ir,or,ar,ur=Array.prototype.map,sr=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function cr(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?rr:(n=ur.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=n[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?rr:function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}(ur.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=Ke(t)).fill,e=t.align,f=t.sign,p=t.symbol,h=t.zero,d=t.width,m=t.comma,g=t.precision,v=t.trim,y=t.type;"n"===y?(m=!0,y="g"):er[y]||(void 0===g&&(g=12),v=!0,y="g"),(h||"0"===n&&"="===e)&&(h=!0,n="0",e="=");var w="$"===p?i:"#"===p&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===p?o:/[%p]/.test(y)?s:"",_=er[y],x=/[defgprs%]/.test(y);function M(t){var i,o,s,p=w,M=b;if("c"===y)M=_(t)+M,t="";else{var E=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:_(Math.abs(t),g),v&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),E&&0==+t&&"+"!==f&&(E=!1),p=(E?"("===f?f:c:"-"===f||"("===f?"":f)+p,M=("s"===y?sr[8+Je/3]:"")+M+(E&&"("===f?")":""),x)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){M=(46===s?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}m&&!h&&(t=r(t,1/0));var k=p.length+t.length+M.length,S=k<d?new Array(d-k+1).join(n):"";switch(m&&h&&(t=r(S+t,S.length?d-M.length:1/0),S=""),e){case"<":t=p+t+M+S;break;case"=":t=p+S+t+M;break;case"^":t=S.slice(0,k=S.length>>1)+p+t+M+S.slice(k);break;default:t=S+p+t+M}return u(t)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),M.toString=function(){return t+""},M}return{format:f,formatPrefix:function(t,n){var e=f(((t=Ke(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Qe(n)/3))),i=Math.pow(10,-r),o=sr[8+r/3];return function(t){return e(i*t)+o}}}}function lr(t){return ir=cr(t),or=ir.format,ar=ir.formatPrefix,ir}function fr(t){return Math.max(0,-Qe(Math.abs(t)))}function pr(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Qe(n)/3)))-Qe(Math.abs(t)))}function hr(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Qe(n)-Qe(t))+1}function dr(){return new mr}function mr(){this.reset()}lr({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),mr.prototype={constructor:mr,reset:function(){this.s=this.t=0},add:function(t){vr(gr,t,this.t),vr(this,gr.s,this.s),this.s?this.t+=gr.t:this.s=gr.t},valueOf:function(){return this.s}};var gr=new mr;function vr(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}var yr=1e-6,wr=Math.PI,br=wr/2,_r=wr/4,xr=2*wr,Mr=180/wr,Er=wr/180,kr=Math.abs,Sr=Math.atan,Tr=Math.atan2,Ar=Math.cos,Cr=Math.exp,Dr=Math.log,Nr=Math.pow,$r=Math.sin,Or=Math.sign||function(t){return t>0?1:t<0?-1:0},jr=Math.sqrt,Lr=Math.tan;function Ir(t){return t>1?br:t<-1?-br:Math.asin(t)}function Pr(){}function Ur(t,n){t&&qr.hasOwnProperty(t.type)&&qr[t.type](t,n)}var Hr={Feature:function(t,n){Ur(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Ur(e[r].geometry,n)}},qr={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Fr(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Fr(e[r],n,0)},Polygon:function(t,n){Vr(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Vr(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Ur(e[r],n)}};function Fr(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Vr(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Fr(t[e],n,1);n.polygonEnd()}function zr(t,n){t&&Hr.hasOwnProperty(t.type)?Hr[t.type](t,n):Ur(t,n)}function Yr(t){return[Tr(t[1],t[0]),Ir(t[2])]}function Rr(t){var n=t[0],e=t[1],r=Ar(e);return[r*Ar(n),r*$r(n),$r(e)]}function Br(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Zr(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Wr(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Xr(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Qr(t){var n=jr(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Jr(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function Gr(t,n){return[kr(t)>wr?t+Math.round(-t/xr)*xr:t,n]}function Kr(t){return function(n,e){return[(n+=t)>wr?n-xr:n<-wr?n+xr:n,e]}}function ti(t){var n=Kr(t);return n.invert=Kr(-t),n}function ni(t,n){var e=Ar(t),r=$r(t),i=Ar(n),o=$r(n);function a(t,n){var a=Ar(n),u=Ar(t)*a,s=$r(t)*a,c=$r(n),l=c*e+u*r;return[Tr(s*i-l*o,u*e-c*r),Ir(l*i+s*o)]}return a.invert=function(t,n){var a=Ar(n),u=Ar(t)*a,s=$r(t)*a,c=$r(n),l=c*i-s*o;return[Tr(s*i+c*o,u*e+l*r),Ir(l*e-u*r)]},a}function ei(t,n){(n=Rr(n))[0]-=t,Qr(n);var e,r=(e=-n[1])>1?0:e<-1?wr:Math.acos(e);return((-n[2]<0?-r:r)+xr-yr)%xr}function ri(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:Pr,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function ii(t,n){return kr(t[0]-n[0])<yr&&kr(t[1]-n[1])<yr}function oi(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function ai(t,n,e,r,i){var o,a,u=[],s=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],a=t[n];if(ii(r,a)){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else u.push(e=new oi(r,t,null,!0)),s.push(e.o=new oi(r,null,e,!1)),u.push(e=new oi(a,t,null,!1)),s.push(e.o=new oi(a,null,e,!0))}}),u.length){for(s.sort(n),ui(u),ui(s),o=0,a=s.length;o<a;++o)s[o].e=e=!e;for(var c,l,f=u[0];;){for(var p=f,h=!0;p.v;)if((p=p.n)===f)return;c=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(h)for(o=0,a=c.length;o<a;++o)i.point((l=c[o])[0],l[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(h)for(c=p.p.z,o=c.length-1;o>=0;--o)i.point((l=c[o])[0],l[1]);else r(p.x,p.p.x,-1,i);p=p.p}c=(p=p.o).z,h=!h}while(!p.v);i.lineEnd()}}}function ui(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}Gr.invert=Gr;var si=dr();function ci(t){return kr(t[0])<=wr?t[0]:Or(t[0])*((kr(t[0])+wr)%xr-wr)}function li(t,n,e,r){return function(i){var o,a,u,s=n(i),c=ri(),l=n(c),f=!1,p={point:h,lineStart:m,lineEnd:g,polygonStart:function(){p.point=v,p.lineStart=y,p.lineEnd=w,a=[],o=[]},polygonEnd:function(){p.point=h,p.lineStart=m,p.lineEnd=g,a=Q(a);var t=function(t,n){var e=ci(n),r=n[1],i=$r(r),o=[$r(e),-Ar(e),0],a=0,u=0;si.reset(),1===i?r=br+yr:-1===i&&(r=-br-yr);for(var s=0,c=t.length;s<c;++s)if(f=(l=t[s]).length)for(var l,f,p=l[f-1],h=ci(p),d=p[1]/2+_r,m=$r(d),g=Ar(d),v=0;v<f;++v,h=w,m=_,g=x,p=y){var y=l[v],w=ci(y),b=y[1]/2+_r,_=$r(b),x=Ar(b),M=w-h,E=M>=0?1:-1,k=E*M,S=k>wr,T=m*_;if(si.add(Tr(T*E*$r(k),g*x+T*Ar(k))),a+=S?M+E*xr:M,S^h>=e^w>=e){var A=Zr(Rr(p),Rr(y));Qr(A);var C=Zr(o,A);Qr(C);var D=(S^M>=0?-1:1)*Ir(C[2]);(r>D||r===D&&(A[0]||A[1]))&&(u+=S^M>=0?1:-1)}}return(a<-yr||a<yr&&si<-yr)^1&u}(o,r);a.length?(f||(i.polygonStart(),f=!0),ai(a,pi,t,e,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(n,e){t(n,e)&&i.point(n,e)}function d(t,n){s.point(t,n)}function m(){p.point=d,s.lineStart()}function g(){p.point=h,s.lineEnd()}function v(t,n){u.push([t,n]),l.point(t,n)}function y(){l.lineStart(),u=[]}function w(){v(u[0][0],u[0][1]),l.lineEnd();var t,n,e,r,s=l.clean(),p=c.result(),h=p.length;if(u.pop(),o.push(u),u=null,h)if(1&s){if((n=(e=p[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else h>1&&2&s&&p.push(p.pop().concat(p.shift())),a.push(p.filter(fi))}return p}}function fi(t){return t.length>1}function pi(t,n){return((t=t.x)[0]<0?t[1]-br-yr:br-t[1])-((n=n.x)[0]<0?n[1]-br-yr:br-n[1])}var hi=li(function(){return!0},function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var u=o>0?wr:-wr,s=kr(o-e);kr(s-wr)<yr?(t.point(e,r=(r+a)/2>0?br:-br),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),n=0):i!==u&&s>=wr&&(kr(e-i)<yr&&(e-=i*yr),kr(o-u)<yr&&(o-=u*yr),r=function(t,n,e,r){var i,o,a=$r(t-e);return kr(a)>yr?Sr(($r(n)*(o=Ar(r))*$r(e)-$r(r)*(i=Ar(n))*$r(t))/(i*o*a)):(n+r)/2}(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),n=0),t.point(e=o,r=a),i=u},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}},function(t,n,e,r){var i;if(null==t)i=e*br,r.point(-wr,i),r.point(0,i),r.point(wr,i),r.point(wr,0),r.point(wr,-i),r.point(0,-i),r.point(-wr,-i),r.point(-wr,0),r.point(-wr,i);else if(kr(t[0]-n[0])>yr){var o=t[0]<n[0]?wr:-wr;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])},[-wr,-br]);function di(t){var n=Ar(t),e=6*Er,r=n>0,i=kr(n)>yr;function o(t,e){return Ar(t)*Ar(e)>n}function a(t,e,r){var i=[1,0,0],o=Zr(Rr(t),Rr(e)),a=Br(o,o),u=o[0],s=a-u*u;if(!s)return!r&&t;var c=n*a/s,l=-n*u/s,f=Zr(i,o),p=Xr(i,c);Wr(p,Xr(o,l));var h=f,d=Br(p,h),m=Br(h,h),g=d*d-m*(Br(p,p)-1);if(!(g<0)){var v=jr(g),y=Xr(h,(-d-v)/m);if(Wr(y,p),y=Yr(y),!r)return y;var w,b=t[0],_=e[0],x=t[1],M=e[1];_<b&&(w=b,b=_,_=w);var E=_-b,k=kr(E-wr)<yr;if(!k&&M<x&&(w=x,x=M,M=w),k||E<yr?k?x+M>0^y[1]<(kr(y[0]-b)<yr?x:M):x<=y[1]&&y[1]<=M:E>wr^(b<=y[0]&&y[0]<=_)){var S=Xr(h,(-d+v)/m);return Wr(S,p),[y,Yr(S)]}}}function u(n,e){var i=r?t:wr-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return li(o,function(t){var n,e,s,c,l;return{lineStart:function(){c=s=!1,l=1},point:function(f,p){var h,d=[f,p],m=o(f,p),g=r?m?0:u(f,p):m?u(f+(f<0?wr:-wr),p):0;if(!n&&(c=s=m)&&t.lineStart(),m!==s&&(!(h=a(n,d))||ii(n,h)||ii(d,h))&&(d[0]+=yr,d[1]+=yr,m=o(d[0],d[1])),m!==s)l=0,m?(t.lineStart(),h=a(d,n),t.point(h[0],h[1])):(h=a(n,d),t.point(h[0],h[1]),t.lineEnd()),n=h;else if(i&&n&&r^m){var v;g&e||!(v=a(d,n,!0))||(l=0,r?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!m||n&&ii(n,d)||t.point(d[0],d[1]),n=d,s=m,e=g},lineEnd:function(){s&&t.lineEnd(),n=null},clean:function(){return l|(c&&s)<<1}}},function(n,r,i,o){!function(t,n,e,r,i,o){if(e){var a=Ar(n),u=$r(n),s=r*e;null==i?(i=n+r*xr,o=n-s/2):(i=ei(a,i),o=ei(a,o),(r>0?i<o:i>o)&&(i+=r*xr));for(var c,l=i;r>0?l>o:l<o;l-=s)c=Yr([a,-u*Ar(l),-u*$r(l)]),t.point(c[0],c[1])}}(o,t,e,i,n,r)},r?[0,-t]:[-wr,t-wr])}var mi=1e9,gi=-mi;function vi(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,u,c){var l=0,f=0;if(null==i||(l=a(i,u))!==(f=a(o,u))||s(i,o)<0^u>0)do{c.point(0===l||3===l?t:e,l>1?r:n)}while((l=(l+u+4)%4)!==f);else c.point(o[0],o[1])}function a(r,i){return kr(r[0]-t)<yr?i>0?0:3:kr(r[0]-e)<yr?i>0?2:1:kr(r[1]-n)<yr?i>0?1:0:i>0?3:2}function u(t,n){return s(t.x,n.x)}function s(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var s,c,l,f,p,h,d,m,g,v,y,w=a,b=ri(),_={point:x,lineStart:function(){_.point=M,c&&c.push(l=[]);v=!0,g=!1,d=m=NaN},lineEnd:function(){s&&(M(f,p),h&&g&&b.rejoin(),s.push(b.result()));_.point=x,g&&w.lineEnd()},polygonStart:function(){w=b,s=[],c=[],y=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=c.length;e<i;++e)for(var o,a,u=c[e],s=1,l=u.length,f=u[0],p=f[0],h=f[1];s<l;++s)o=p,a=h,f=u[s],p=f[0],h=f[1],a<=r?h>r&&(p-o)*(r-a)>(h-a)*(t-o)&&++n:h<=r&&(p-o)*(r-a)<(h-a)*(t-o)&&--n;return n}(),e=y&&n,i=(s=Q(s)).length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&ai(s,u,n,o,a),a.polygonEnd());w=a,s=c=l=null}};function x(t,n){i(t,n)&&w.point(t,n)}function M(o,a){var u=i(o,a);if(c&&l.push([o,a]),v)f=o,p=a,h=u,v=!1,u&&(w.lineStart(),w.point(o,a));else if(u&&g)w.point(o,a);else{var s=[d=Math.max(gi,Math.min(mi,d)),m=Math.max(gi,Math.min(mi,m))],b=[o=Math.max(gi,Math.min(mi,o)),a=Math.max(gi,Math.min(mi,a))];!function(t,n,e,r,i,o){var a,u=t[0],s=t[1],c=0,l=1,f=n[0]-u,p=n[1]-s;if(a=e-u,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<l&&(l=a)}else if(f>0){if(a>l)return;a>c&&(c=a)}if(a=i-u,f||!(a<0)){if(a/=f,f<0){if(a>l)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<l&&(l=a)}if(a=r-s,p||!(a>0)){if(a/=p,p<0){if(a<c)return;a<l&&(l=a)}else if(p>0){if(a>l)return;a>c&&(c=a)}if(a=o-s,p||!(a<0)){if(a/=p,p<0){if(a>l)return;a>c&&(c=a)}else if(p>0){if(a<c)return;a<l&&(l=a)}return c>0&&(t[0]=u+c*f,t[1]=s+c*p),l<1&&(n[0]=u+l*f,n[1]=s+l*p),!0}}}}}(s,b,t,n,e,r)?u&&(w.lineStart(),w.point(o,a),y=!1):(g||(w.lineStart(),w.point(s[0],s[1])),w.point(b[0],b[1]),u||w.lineEnd(),y=!1)}d=o,m=a,g=u}return _}}function yi(t){return t}var wi,bi,_i,xi,Mi=dr(),Ei=dr(),ki={point:Pr,lineStart:Pr,lineEnd:Pr,polygonStart:function(){ki.lineStart=Si,ki.lineEnd=Ci},polygonEnd:function(){ki.lineStart=ki.lineEnd=ki.point=Pr,Mi.add(kr(Ei)),Ei.reset()},result:function(){var t=Mi/2;return Mi.reset(),t}};function Si(){ki.point=Ti}function Ti(t,n){ki.point=Ai,wi=_i=t,bi=xi=n}function Ai(t,n){Ei.add(xi*t-_i*n),_i=t,xi=n}function Ci(){Ai(wi,bi)}var Di=1/0,Ni=Di,$i=-Di,Oi=$i,ji={point:function(t,n){t<Di&&(Di=t);t>$i&&($i=t);n<Ni&&(Ni=n);n>Oi&&(Oi=n)},lineStart:Pr,lineEnd:Pr,polygonStart:Pr,polygonEnd:Pr,result:function(){var t=[[Di,Ni],[$i,Oi]];return $i=Oi=-(Ni=Di=1/0),t}};var Li,Ii,Pi,Ui,Hi=0,qi=0,Fi=0,Vi=0,zi=0,Yi=0,Ri=0,Bi=0,Zi=0,Wi={point:Xi,lineStart:Qi,lineEnd:Ki,polygonStart:function(){Wi.lineStart=to,Wi.lineEnd=no},polygonEnd:function(){Wi.point=Xi,Wi.lineStart=Qi,Wi.lineEnd=Ki},result:function(){var t=Zi?[Ri/Zi,Bi/Zi]:Yi?[Vi/Yi,zi/Yi]:Fi?[Hi/Fi,qi/Fi]:[NaN,NaN];return Hi=qi=Fi=Vi=zi=Yi=Ri=Bi=Zi=0,t}};function Xi(t,n){Hi+=t,qi+=n,++Fi}function Qi(){Wi.point=Ji}function Ji(t,n){Wi.point=Gi,Xi(Pi=t,Ui=n)}function Gi(t,n){var e=t-Pi,r=n-Ui,i=jr(e*e+r*r);Vi+=i*(Pi+t)/2,zi+=i*(Ui+n)/2,Yi+=i,Xi(Pi=t,Ui=n)}function Ki(){Wi.point=Xi}function to(){Wi.point=eo}function no(){ro(Li,Ii)}function eo(t,n){Wi.point=ro,Xi(Li=Pi=t,Ii=Ui=n)}function ro(t,n){var e=t-Pi,r=n-Ui,i=jr(e*e+r*r);Vi+=i*(Pi+t)/2,zi+=i*(Ui+n)/2,Yi+=i,Ri+=(i=Ui*t-Pi*n)*(Pi+t),Bi+=i*(Ui+n),Zi+=3*i,Xi(Pi=t,Ui=n)}function io(t){this._context=t}io.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,xr)}},result:Pr};var oo,ao,uo,so,co,lo=dr(),fo={point:Pr,lineStart:function(){fo.point=po},lineEnd:function(){oo&&ho(ao,uo),fo.point=Pr},polygonStart:function(){oo=!0},polygonEnd:function(){oo=null},result:function(){var t=+lo;return lo.reset(),t}};function po(t,n){fo.point=ho,ao=so=t,uo=co=n}function ho(t,n){so-=t,co-=n,lo.add(jr(so*so+co*co)),so=t,co=n}function mo(){this._string=[]}function go(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function vo(t){return function(n){var e=new yo;for(var r in t)e[r]=t[r];return e.stream=n,e}}function yo(){}function wo(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),zr(e,t.stream(ji)),n(ji.result()),null!=r&&t.clipExtent(r),t}function bo(t,n,e){return wo(t,function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),a=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,u=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,u])},e)}mo.prototype={_radius:4.5,_circle:go(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=go(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},yo.prototype={constructor:yo,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var _o=16,xo=Ar(30*Er);function Mo(t,n){return+n?function(t,n){function e(r,i,o,a,u,s,c,l,f,p,h,d,m,g){var v=c-r,y=l-i,w=v*v+y*y;if(w>4*n&&m--){var b=a+p,_=u+h,x=s+d,M=jr(b*b+_*_+x*x),E=Ir(x/=M),k=kr(kr(x)-1)<yr||kr(o-f)<yr?(o+f)/2:Tr(_,b),S=t(k,E),T=S[0],A=S[1],C=T-r,D=A-i,N=y*C-v*D;(N*N/w>n||kr((v*C+y*D)/w-.5)>.3||a*p+u*h+s*d<xo)&&(e(r,i,o,a,u,s,T,A,k,b/=M,_/=M,x,m,g),g.point(T,A),e(T,A,k,b,_,x,c,l,f,p,h,d,m,g))}}return function(n){var r,i,o,a,u,s,c,l,f,p,h,d,m={point:g,lineStart:v,lineEnd:w,polygonStart:function(){n.polygonStart(),m.lineStart=b},polygonEnd:function(){n.polygonEnd(),m.lineStart=v}};function g(e,r){e=t(e,r),n.point(e[0],e[1])}function v(){l=NaN,m.point=y,n.lineStart()}function y(r,i){var o=Rr([r,i]),a=t(r,i);e(l,f,c,p,h,d,l=a[0],f=a[1],c=r,p=o[0],h=o[1],d=o[2],_o,n),n.point(l,f)}function w(){m.point=g,n.lineEnd()}function b(){v(),m.point=_,m.lineEnd=x}function _(t,n){y(r=t,n),i=l,o=f,a=p,u=h,s=d,m.point=y}function x(){e(l,f,c,p,h,d,i,o,r,a,u,s,_o,n),m.lineEnd=w,w()}return m}}(t,n):function(t){return vo({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var Eo=vo({point:function(t,n){this.stream.point(t*Er,n*Er)}});function ko(t,n,e,r){var i=Ar(r),o=$r(r),a=i*t,u=o*t,s=i/t,c=o/t,l=(o*e-i*n)/t,f=(o*n+i*e)/t;function p(t,r){return[a*t-u*r+n,e-u*t-a*r]}return p.invert=function(t,n){return[s*t-c*n+l,f-c*t-s*n]},p}function So(t){var n,e,r,i,o,a,u,s,c,l,f=150,p=480,h=250,d=0,m=0,g=0,v=0,y=0,w=0,b=null,_=hi,x=null,M=yi,E=.5;function k(t){return s(t[0]*Er,t[1]*Er)}function S(t){return(t=s.invert(t[0],t[1]))&&[t[0]*Mr,t[1]*Mr]}function T(){var t=ko(f,0,0,w).apply(null,n(d,m)),r=(w?ko:function(t,n,e){function r(r,i){return[n+t*r,e-t*i]}return r.invert=function(r,i){return[(r-n)/t,(e-i)/t]},r})(f,p-t[0],h-t[1],w);return e=function(t,n,e){return(t%=xr)?n||e?Jr(ti(t),ni(n,e)):ti(t):n||e?ni(n,e):Gr}(g,v,y),u=Jr(n,r),s=Jr(e,u),a=Mo(u,E),A()}function A(){return c=l=null,k}return k.stream=function(t){return c&&l===t?c:c=Eo(function(t){return vo({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(_(a(M(l=t)))))},k.preclip=function(t){return arguments.length?(_=t,b=void 0,A()):_},k.postclip=function(t){return arguments.length?(M=t,x=r=i=o=null,A()):M},k.clipAngle=function(t){return arguments.length?(_=+t?di(b=t*Er):(b=null,hi),A()):b*Mr},k.clipExtent=function(t){return arguments.length?(M=null==t?(x=r=i=o=null,yi):vi(x=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),A()):null==x?null:[[x,r],[i,o]]},k.scale=function(t){return arguments.length?(f=+t,T()):f},k.translate=function(t){return arguments.length?(p=+t[0],h=+t[1],T()):[p,h]},k.center=function(t){return arguments.length?(d=t[0]%360*Er,m=t[1]%360*Er,T()):[d*Mr,m*Mr]},k.rotate=function(t){return arguments.length?(g=t[0]%360*Er,v=t[1]%360*Er,y=t.length>2?t[2]%360*Er:0,T()):[g*Mr,v*Mr,y*Mr]},k.angle=function(t){return arguments.length?(w=t%360*Er,T()):w*Mr},k.precision=function(t){return arguments.length?(a=Mo(u,E=t*t),A()):jr(E)},k.fitExtent=function(t,n){return bo(k,t,n)},k.fitSize=function(t,n){return function(t,n,e){return bo(t,[[0,0],n],e)}(k,t,n)},k.fitWidth=function(t,n){return function(t,n,e){return wo(t,function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,a=-i*e[0][1];t.scale(150*i).translate([o,a])},e)}(k,t,n)},k.fitHeight=function(t,n){return function(t,n,e){return wo(t,function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],a=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,a])},e)}(k,t,n)},function(){return n=t.apply(this,arguments),k.invert=n.invert&&S,T()}}function To(t,n){return[t,Dr(Lr((br+n)/2))]}function Ao(t){return Lr((br+t)/2)}function Co(t,n){var e=Ar(t),r=t===n?$r(t):Dr(e/Ar(n))/Dr(Ao(n)/Ao(t)),i=e*Nr(Ao(t),r)/r;if(!r)return To;function o(t,n){i>0?n<-br+yr&&(n=-br+yr):n>br-yr&&(n=br-yr);var e=i/Nr(Ao(n),r);return[e*$r(r*t),i-e*Ar(r*t)]}return o.invert=function(t,n){var e=i-n,o=Or(r)*jr(t*t+e*e);return[Tr(t,kr(e))/r*Or(e),2*Sr(Nr(i/o,1/r))-br]},o}function Do(){return(t=Co,n=0,e=wr/3,r=So(t),i=r(n,e),i.parallels=function(t){return arguments.length?r(n=t[0]*Er,e=t[1]*Er):[n*Mr,e*Mr]},i).scale(109.5).parallels([30,30]);var t,n,e,r,i}function No(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}To.invert=function(t,n){return[t,2*Sr(Cr(n))-br]};var $o=Array.prototype,Oo=$o.map,jo=$o.slice,Lo={name:"implicit"};function Io(){var t,n,e=function t(){var n=Be(),e=[],r=[],i=Lo;function o(t){var o=t+"",a=n.get(o);if(!a){if(i!==Lo)return i;n.set(o,a=e.push(t))}return r[(a-1)%r.length]}return o.domain=function(t){if(!arguments.length)return e.slice();e=[],n=Be();for(var r,i,a=-1,u=t.length;++a<u;)n.has(i=(r=t[a])+"")||n.set(i,e.push(r));return o},o.range=function(t){return arguments.length?(r=jo.call(t),o):r.slice()},o.unknown=function(t){return arguments.length?(i=t,o):i},o.copy=function(){return t(e,r).unknown(i)},No.apply(o,arguments),o}().unknown(void 0),r=e.domain,i=e.range,o=[0,1],a=!1,u=0,s=0,c=.5;function l(){var e=r().length,l=o[1]<o[0],f=o[l-0],p=o[1-l];t=(p-f)/Math.max(1,e-u+2*s),a&&(t=Math.floor(t)),f+=(p-f-t*(e-u))*c,n=t*(1-u),a&&(f=Math.round(f),n=Math.round(n));var h=function(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}(e).map(function(n){return f+t*n});return i(l?h.reverse():h)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),l()):r()},e.range=function(t){return arguments.length?(o=[+t[0],+t[1]],l()):o.slice()},e.rangeRound=function(t){return o=[+t[0],+t[1]],a=!0,l()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(a=!!t,l()):a},e.padding=function(t){return arguments.length?(u=Math.min(1,s=+t),l()):u},e.paddingInner=function(t){return arguments.length?(u=Math.min(1,t),l()):u},e.paddingOuter=function(t){return arguments.length?(s=+t,l()):s},e.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),l()):c},e.copy=function(){return Io(r(),o).round(a).paddingInner(u).paddingOuter(s).align(c)},No.apply(l(),arguments)}function Po(t){return+t}var Uo=[0,1];function Ho(t){return t}function qo(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function Fo(t){var n,e=t[0],r=t[t.length-1];return e>r&&(n=e,e=r,r=n),function(t){return Math.max(e,Math.min(r,t))}}function Vo(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=qo(i,r),o=e(a,o)):(r=qo(r,i),o=e(o,a)),function(t){return o(r(t))}}function zo(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=qo(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=F(t,n,1,r)-1;return o[e](i[e](n))}}function Yo(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ro(){var t,n,e,r,i,o,a=Uo,u=Uo,s=qn,c=Ho;function l(){return r=Math.min(a.length,u.length)>2?zo:Vo,i=o=null,f}function f(n){return isNaN(n=+n)?e:(i||(i=r(a.map(t),u,s)))(t(c(n)))}return f.invert=function(e){return c(n((o||(o=r(u,a.map(t),In)))(e)))},f.domain=function(t){return arguments.length?(a=Oo.call(t,Po),c===Ho||(c=Fo(a)),l()):a.slice()},f.range=function(t){return arguments.length?(u=jo.call(t),l()):u.slice()},f.rangeRound=function(t){return u=jo.call(t),s=Fn,l()},f.clamp=function(t){return arguments.length?(c=t?Fo(a):Ho,f):c!==Ho},f.interpolate=function(t){return arguments.length?(s=t,l()):s},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,l()}}function Bo(t){var n=t.domain;return t.ticks=function(t){var e=n();return B(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return function(t,n,e,r){var i,o=W(t,n,e);switch((r=Ke(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=pr(o,a))||(r.precision=i),ar(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=hr(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=fr(o))||(r.precision=i-2*("%"===r.type))}return or(r)}(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i=n(),o=0,a=i.length-1,u=i[o],s=i[a];return s<u&&(r=u,u=s,s=r,r=o,o=a,a=r),(r=Z(u,s,e))>0?r=Z(u=Math.floor(u/r)*r,s=Math.ceil(s/r)*r,e):r<0&&(r=Z(u=Math.ceil(u*r)/r,s=Math.floor(s*r)/r,e)),r>0?(i[o]=Math.floor(u/r)*r,i[a]=Math.ceil(s/r)*r,n(i)):r<0&&(i[o]=Math.ceil(u*r)/r,i[a]=Math.floor(s*r)/r,n(i)),t},t}function Zo(){var t,n,e=(t=Ho,n=Ho,Ro()(t,n));return e.copy=function(){return Yo(e,Zo())},No.apply(e,arguments),Bo(e)}function Wo(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Xo(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Qo(t){return t<0?-t*t:t*t}function Jo(t){var n=t(Ho,Ho),e=1;return n.exponent=function(n){return arguments.length?1===(e=+n)?t(Ho,Ho):.5===e?t(Xo,Qo):t(Wo(e),Wo(1/e)):e},Bo(n)}function Go(){return function t(){var n=Jo(Ro());return n.copy=function(){return Yo(n,t()).exponent(n.exponent())},No.apply(n,arguments),n}.apply(null,arguments).exponent(.5)}var Ko=new Date,ta=new Date;function na(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=function(n){return t(n=new Date(+n)),n},i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var a,u=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return u;do{u.push(a=new Date(+e)),n(e,o),t(e)}while(a<e&&e<r);return u},i.filter=function(e){return na(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););})},e&&(i.count=function(n,r){return Ko.setTime(+n),ta.setTime(+r),t(Ko),t(ta),Math.floor(e(Ko,ta))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}var ea=na(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});ea.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?na(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):ea:null};var ra=6e4,ia=6048e5,oa=na(function(t){t.setTime(t-t.getMilliseconds())},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()}),aa=na(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,n){t.setTime(+t+n*ra)},function(t,n){return(n-t)/ra},function(t){return t.getMinutes()}),ua=na(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*ra)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getHours()}),sa=na(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ra)/864e5},function(t){return t.getDate()-1});function ca(t){return na(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ra)/ia})}var la=ca(0),fa=ca(1),pa=(ca(2),ca(3),ca(4)),ha=(ca(5),ca(6),na(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),da=na(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});da.every=function(t){return isFinite(t=Math.floor(t))&&t>0?na(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};var ma=na(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1});function ga(t){return na(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/ia})}var va=ga(0),ya=ga(1),wa=(ga(2),ga(3),ga(4)),ba=(ga(5),ga(6),na(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));function _a(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function xa(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ma(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}ba.every=function(t){return isFinite(t=Math.floor(t))&&t>0?na(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};var Ea,ka,Sa={"-":"",_:" ",0:"0"},Ta=/^\s*\d+/,Aa=/^%/,Ca=/[\\^$*+?|[\]().{}]/g;function Da(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Na(t){return t.replace(Ca,"\\$&")}function $a(t){return new RegExp("^(?:"+t.map(Na).join("|")+")","i")}function Oa(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function ja(t,n,e){var r=Ta.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function La(t,n,e){var r=Ta.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Ia(t,n,e){var r=Ta.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Pa(t,n,e){var r=Ta.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Ua(t,n,e){var r=Ta.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Ha(t,n,e){var r=Ta.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function qa(t,n,e){var r=Ta.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Fa(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Va(t,n,e){var r=Ta.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function za(t,n,e){var r=Ta.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Ya(t,n,e){var r=Ta.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Ra(t,n,e){var r=Ta.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Ba(t,n,e){var r=Ta.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Za(t,n,e){var r=Ta.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Wa(t,n,e){var r=Ta.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Xa(t,n,e){var r=Ta.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Qa(t,n,e){var r=Ta.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function Ja(t,n,e){var r=Aa.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function Ga(t,n,e){var r=Ta.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function Ka(t,n,e){var r=Ta.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function tu(t,n){return Da(t.getDate(),n,2)}function nu(t,n){return Da(t.getHours(),n,2)}function eu(t,n){return Da(t.getHours()%12||12,n,2)}function ru(t,n){return Da(1+sa.count(da(t),t),n,3)}function iu(t,n){return Da(t.getMilliseconds(),n,3)}function ou(t,n){return iu(t,n)+"000"}function au(t,n){return Da(t.getMonth()+1,n,2)}function uu(t,n){return Da(t.getMinutes(),n,2)}function su(t,n){return Da(t.getSeconds(),n,2)}function cu(t){var n=t.getDay();return 0===n?7:n}function lu(t,n){return Da(la.count(da(t)-1,t),n,2)}function fu(t,n){var e=t.getDay();return t=e>=4||0===e?pa(t):pa.ceil(t),Da(pa.count(da(t),t)+(4===da(t).getDay()),n,2)}function pu(t){return t.getDay()}function hu(t,n){return Da(fa.count(da(t)-1,t),n,2)}function du(t,n){return Da(t.getFullYear()%100,n,2)}function mu(t,n){return Da(t.getFullYear()%1e4,n,4)}function gu(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Da(n/60|0,"0",2)+Da(n%60,"0",2)}function vu(t,n){return Da(t.getUTCDate(),n,2)}function yu(t,n){return Da(t.getUTCHours(),n,2)}function wu(t,n){return Da(t.getUTCHours()%12||12,n,2)}function bu(t,n){return Da(1+ma.count(ba(t),t),n,3)}function _u(t,n){return Da(t.getUTCMilliseconds(),n,3)}function xu(t,n){return _u(t,n)+"000"}function Mu(t,n){return Da(t.getUTCMonth()+1,n,2)}function Eu(t,n){return Da(t.getUTCMinutes(),n,2)}function ku(t,n){return Da(t.getUTCSeconds(),n,2)}function Su(t){var n=t.getUTCDay();return 0===n?7:n}function Tu(t,n){return Da(va.count(ba(t)-1,t),n,2)}function Au(t,n){var e=t.getUTCDay();return t=e>=4||0===e?wa(t):wa.ceil(t),Da(wa.count(ba(t),t)+(4===ba(t).getUTCDay()),n,2)}function Cu(t){return t.getUTCDay()}function Du(t,n){return Da(ya.count(ba(t)-1,t),n,2)}function Nu(t,n){return Da(t.getUTCFullYear()%100,n,2)}function $u(t,n){return Da(t.getUTCFullYear()%1e4,n,4)}function Ou(){return"+0000"}function ju(){return"%"}function Lu(t){return+t}function Iu(t){return Math.floor(+t/1e3)}function Pu(t){return Ea=function(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,s=t.shortMonths,c=$a(i),l=Oa(i),f=$a(o),p=Oa(o),h=$a(a),d=Oa(a),m=$a(u),g=Oa(u),v=$a(s),y=Oa(s),w={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:tu,e:tu,f:ou,H:nu,I:eu,j:ru,L:iu,m:au,M:uu,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Lu,s:Iu,S:su,u:cu,U:lu,V:fu,w:pu,W:hu,x:null,X:null,y:du,Y:mu,Z:gu,"%":ju},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:vu,e:vu,f:xu,H:yu,I:wu,j:bu,L:_u,m:Mu,M:Eu,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Lu,s:Iu,S:ku,u:Su,U:Tu,V:Au,w:Cu,W:Du,x:null,X:null,y:Nu,Y:$u,Z:Ou,"%":ju},_={a:function(t,n,e){var r=h.exec(n.slice(e));return r?(t.w=d[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=f.exec(n.slice(e));return r?(t.w=p[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=v.exec(n.slice(e));return r?(t.m=y[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=m.exec(n.slice(e));return r?(t.m=g[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,e,r){return E(t,n,e,r)},d:Ya,e:Ya,f:Qa,H:Ba,I:Ba,j:Ra,L:Xa,m:za,M:Za,p:function(t,n,e){var r=c.exec(n.slice(e));return r?(t.p=l[r[0].toLowerCase()],e+r[0].length):-1},q:Va,Q:Ga,s:Ka,S:Wa,u:La,U:Ia,V:Pa,w:ja,W:Ua,x:function(t,n,r){return E(t,e,n,r)},X:function(t,n,e){return E(t,r,n,e)},y:qa,Y:Ha,Z:Fa,"%":Ja};function x(t,n){return function(e){var r,i,o,a=[],u=-1,s=0,c=t.length;for(e instanceof Date||(e=new Date(+e));++u<c;)37===t.charCodeAt(u)&&(a.push(t.slice(s,u)),null!=(i=Sa[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),a.push(r),s=u+1);return a.push(t.slice(s,u)),a.join("")}}function M(t,n){return function(e){var r,i,o=Ma(1900,void 0,1);if(E(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(!n||"Z"in o||(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=xa(Ma(o.y,0,1))).getUTCDay(),r=i>4||0===i?ya.ceil(r):ya(r),r=ma.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=_a(Ma(o.y,0,1))).getDay(),r=i>4||0===i?fa.ceil(r):fa(r),r=sa.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?xa(Ma(o.y,0,1)).getUTCDay():_a(Ma(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,xa(o)):_a(o)}}function E(t,n,e,r){for(var i,o,a=0,u=n.length,s=e.length;a<u;){if(r>=s)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=_[i in Sa?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return w.x=x(e,w),w.X=x(r,w),w.c=x(n,w),b.x=x(e,b),b.X=x(r,b),b.c=x(n,b),{format:function(t){var n=x(t+="",w);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=x(t+="",b);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t+="",!0);return n.toString=function(){return t},n}}}(t),ka=Ea.format,Ea.parse,Ea.utcFormat,Ea.utcParse,Ea}function Uu(){var t=Jo(function(){var t,n,e,r,i,o=0,a=1,u=Ho,s=!1;function c(n){return isNaN(n=+n)?i:u(0===e?.5:(n=(r(n)-t)*e,s?Math.max(0,Math.min(1,n)):n))}return c.domain=function(i){return arguments.length?(t=r(o=+i[0]),n=r(a=+i[1]),e=t===n?0:1/(n-t),c):[o,a]},c.clamp=function(t){return arguments.length?(s=!!t,c):s},c.interpolator=function(t){return arguments.length?(u=t,c):u},c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(o),n=i(a),e=t===n?0:1/(n-t),c}}());return t.copy=function(){return(n=t,e=Uu(),e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())).exponent(t.exponent());var n,e},function(t,n){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(n).domain(t)}return this}.apply(t,arguments)}function Hu(){return Uu.apply(null,arguments).exponent(.5)}function qu(t){return function(){return t}}function Fu(t){this._context=t}function Vu(t){return new Fu(t)}function zu(t){return t[0]}function Yu(t){return t[1]}function Ru(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Bu(t){this._context=t}function Zu(t){return new Bu(t)}Pu({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Fu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}},Bu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ru(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ru(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};const Wu={decimal:",",thousands:".",grouping:[3],currency:["â¬",""],dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["domingo","lunes","martes","miÃ©rcoles","jueves","viernes","sÃ¡bado"],shortDays:["dom","lun","mar","miÃ©","jue","vie","sÃ¡b"],months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortMonths:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"]};function Xu(t){var n=t.getBoundingClientRect();return{width:n.width,height:n.height,top:n.top,right:n.right,bottom:n.bottom,left:n.left,x:n.left,y:n.top}}function Qu(t){if("[object Window]"!==t.toString()){var n=t.ownerDocument;return n?n.defaultView:window}return t}function Ju(t){var n=Qu(t);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function Gu(t){return t instanceof Qu(t).Element||t instanceof Element}function Ku(t){return t instanceof Qu(t).HTMLElement||t instanceof HTMLElement}function ts(t){return t?(t.nodeName||"").toLowerCase():null}function ns(t){return(Gu(t)?t.ownerDocument:t.document).documentElement}function es(t){return Xu(ns(t)).left+Ju(t).scrollLeft}function rs(t,n,e){var r;void 0===e&&(e=!1);var i,o,a=Xu(t),u={scrollLeft:0,scrollTop:0},s={x:0,y:0};return e||("body"!==ts(n)&&(u=(i=n)!==Qu(i)&&Ku(i)?{scrollLeft:(o=i).scrollLeft,scrollTop:o.scrollTop}:Ju(i)),Ku(n)?((s=Xu(n)).x+=n.clientLeft,s.y+=n.clientTop):(r=ns(n))&&(s.x=es(r))),{x:a.left+u.scrollLeft-s.x,y:a.top+u.scrollTop-s.y,width:a.width,height:a.height}}function is(t){return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}function os(t){return"html"===ts(t)?t:t.assignedSlot||t.parentNode||t.host||ns(t)}function as(t){return Qu(t).getComputedStyle(t)}function us(t,n){void 0===n&&(n=[]);var e=function t(n){if(["html","body","#document"].indexOf(ts(n))>=0)return n.ownerDocument.body;if(Ku(n)){var e=as(n),r=e.overflow,i=e.overflowX,o=e.overflowY;if(/auto|scroll|overlay|hidden/.test(r+o+i))return n}return t(os(n))}(t),r="body"===ts(e),i=Qu(e),o=r?[i].concat(i.visualViewport||[]):e,a=n.concat(o);return r?a:a.concat(us(os(o)))}function ss(t){return["table","td","th"].indexOf(ts(t))>=0}function cs(t){return Ku(t)&&"fixed"!==as(t).position?t.offsetParent:null}function ls(t){for(var n=Qu(t),e=cs(t);e&&ss(e);)e=cs(e);return e&&"body"===ts(e)&&"static"===as(e).position?n:e||n}var fs="top",ps="bottom",hs="right",ds="left",ms="auto",gs=[fs,ps,hs,ds],vs="start",ys="end",ws="clippingParents",bs="viewport",_s="popper",xs="reference",Ms=gs.reduce(function(t,n){return t.concat([n+"-"+vs,n+"-"+ys])},[]),Es=[].concat(gs,[ms]).reduce(function(t,n){return t.concat([n,n+"-"+vs,n+"-"+ys])},[]),ks=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Ss(t){var n=new Map,e=new Set,r=[];return t.forEach(function(t){n.set(t.name,t)}),t.forEach(function(t){e.has(t.name)||function t(i){e.add(i.name),[].concat(i.requires||[],i.requiresIfExists||[]).forEach(function(r){if(!e.has(r)){var i=n.get(r);i&&t(i)}}),r.push(i)}(t)}),r}function Ts(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return[].concat(e).reduce(function(t,n){return t.replace(/%s/,n)},t)}var As='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',Cs='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',Ds=["name","enabled","phase","fn","effect","requires","options"];function Ns(t){return t.split("-")[0]}var $s="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",Os="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",js={placement:"bottom",modifiers:[],strategy:"absolute"};function Ls(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return!n.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}function Is(t){void 0===t&&(t={});var n=t,e=n.defaultModifiers,r=void 0===e?[]:e,i=n.defaultOptions,o=void 0===i?js:i;return function(t,n,e){void 0===e&&(e=o);var i,a,u={placement:"bottom",orderedModifiers:[],options:Object.assign({},js,{},o),modifiersData:{},elements:{reference:t,popper:n},attributes:{},styles:{}},s=[],c=!1,l={state:u,setOptions:function(e){f(),u.options=Object.assign({},o,{},u.options,{},e),u.scrollParents={reference:Gu(t)?us(t):t.contextElement?us(t.contextElement):[],popper:us(n)};var i=function(t){var n=Ss(t);return ks.reduce(function(t,e){return t.concat(n.filter(function(t){return t.phase===e}))},[])}(function(t){var n=t.reduce(function(t,n){var e=t[n.name];return t[n.name]=e?Object.assign({},e,{},n,{options:Object.assign({},e.options,{},n.options),data:Object.assign({},e.data,{},n.data)}):n,t},{});return Object.keys(n).map(function(t){return n[t]})}([].concat(r,u.options.modifiers)));(u.orderedModifiers=i.filter(function(t){return t.enabled}),function(t){t.forEach(function(n){Object.keys(n).forEach(function(e){switch(e){case"name":"string"!=typeof n.name&&console.error(Ts(As,String(n.name),'"name"','"string"','"'+String(n.name)+'"'));break;case"enabled":"boolean"!=typeof n.enabled&&console.error(Ts(As,n.name,'"enabled"','"boolean"','"'+String(n.enabled)+'"'));case"phase":ks.indexOf(n.phase)<0&&console.error(Ts(As,n.name,'"phase"',"either "+ks.join(", "),'"'+String(n.phase)+'"'));break;case"fn":"function"!=typeof n.fn&&console.error(Ts(As,n.name,'"fn"','"function"','"'+String(n.fn)+'"'));break;case"effect":"function"!=typeof n.effect&&console.error(Ts(As,n.name,'"effect"','"function"','"'+String(n.fn)+'"'));break;case"requires":Array.isArray(n.requires)||console.error(Ts(As,n.name,'"requires"','"array"','"'+String(n.requires)+'"'));break;case"requiresIfExists":Array.isArray(n.requiresIfExists)||console.error(Ts(As,n.name,'"requiresIfExists"','"array"','"'+String(n.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+n.name+'" modifier, valid properties are '+Ds.map(function(t){return'"'+t+'"'}).join(", ")+'; but "'+e+'" was provided.')}n.requires&&n.requires.forEach(function(e){null==t.find(function(t){return t.name===e})&&console.error(Ts(Cs,String(n.name),e,e))})})})}((a=[].concat(i,u.options.modifiers),c=function(t){return t.name},p=new Set,a.filter(function(t){var n=c(t);if(!p.has(n))return p.add(n),!0}))),Ns(u.options.placement)===ms)&&(u.orderedModifiers.find(function(t){return"flip"===t.name})||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" ")));var a,c,p,h=as(n);return[h.marginTop,h.marginRight,h.marginBottom,h.marginLeft].some(function(t){return parseFloat(t)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" ")),u.orderedModifiers.forEach(function(t){var n=t.name,e=t.options,r=void 0===e?{}:e,i=t.effect;if("function"==typeof i){var o=i({state:u,name:n,instance:l,options:r});s.push(o||function(){})}}),l.update()},forceUpdate:function(){if(!c){var t=u.elements,n=t.reference,e=t.popper;if(Ls(n,e)){u.rects={reference:rs(n,ls(e),"fixed"===u.options.strategy),popper:is(e)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(t){return u.modifiersData[t.name]=Object.assign({},t.data)});for(var r=0,i=0;i<u.orderedModifiers.length;i++){if((r+=1)>100){console.error(Os);break}if(!0!==u.reset){var o=u.orderedModifiers[i],a=o.fn,s=o.options,f=void 0===s?{}:s,p=o.name;"function"==typeof a&&(u=a({state:u,options:f,name:p,instance:l})||u)}else u.reset=!1,i=-1}}else console.error($s)}},update:(i=function(){return new Promise(function(t){l.forceUpdate(),t(u)})},function(){return a||(a=new Promise(function(t){Promise.resolve().then(function(){a=void 0,t(i())})})),a}),destroy:function(){f(),c=!0}};if(!Ls(t,n))return console.error($s),l;function f(){s.forEach(function(t){return t()}),s=[]}return l.setOptions(e).then(function(t){!c&&e.onFirstUpdate&&e.onFirstUpdate(t)}),l}}var Ps={passive:!0};function Us(t){return t.split("-")[1]}function Hs(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function qs(t){var n,e=t.reference,r=t.element,i=t.placement,o=i?Ns(i):null,a=i?Us(i):null,u=e.x+e.width/2-r.width/2,s=e.y+e.height/2-r.height/2;switch(o){case fs:n={x:u,y:e.y-r.height};break;case ps:n={x:u,y:e.y+e.height};break;case hs:n={x:e.x+e.width,y:s};break;case ds:n={x:e.x-r.width,y:s};break;default:n={x:e.x,y:e.y}}var c=o?Hs(o):null;if(null!=c){var l="y"===c?"height":"width";switch(a){case vs:n[c]=Math.floor(n[c])-Math.floor(e[l]/2-r[l]/2);break;case ys:n[c]=Math.floor(n[c])+Math.ceil(e[l]/2-r[l]/2)}}return n}var Fs={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vs(t){var n,e=t.popper,r=t.popperRect,i=t.placement,o=t.offsets,a=t.position,u=t.gpuAcceleration,s=t.adaptive,c=function(t){var n=t.x,e=t.y,r=window.devicePixelRatio||1;return{x:Math.round(n*r)/r||0,y:Math.round(e*r)/r||0}}(o),l=c.x,f=c.y,p=o.hasOwnProperty("x"),h=o.hasOwnProperty("y"),d=ds,m=fs,g=window;if(s){var v=ls(e);v===Qu(e)&&(v=ns(e)),i===fs&&(m=ps,f-=v.clientHeight-r.height,f*=u?1:-1),i===ds&&(d=hs,l-=v.clientWidth-r.width,l*=u?1:-1)}var y,w=Object.assign({position:a},s&&Fs);return u?Object.assign({},w,((y={})[m]=h?"0":"",y[d]=p?"0":"",y.transform=(g.devicePixelRatio||1)<2?"translate("+l+"px, "+f+"px)":"translate3d("+l+"px, "+f+"px, 0)",y)):Object.assign({},w,((n={})[m]=h?f+"px":"",n[d]=p?l+"px":"",n.transform="",n))}var zs={left:"right",right:"left",bottom:"top",top:"bottom"};function Ys(t){return t.replace(/left|right|bottom|top/g,function(t){return zs[t]})}var Rs={start:"end",end:"start"};function Bs(t){return t.replace(/start|end/g,function(t){return Rs[t]})}function Zs(t){return parseFloat(t)||0}function Ws(t){var n=Qu(t),e=function(t){var n=Ku(t)?as(t):{};return{top:Zs(n.borderTopWidth),right:Zs(n.borderRightWidth),bottom:Zs(n.borderBottomWidth),left:Zs(n.borderLeftWidth)}}(t),r="html"===ts(t),i=es(t),o=t.clientWidth+e.right,a=t.clientHeight+e.bottom;return r&&n.innerHeight-t.clientHeight>50&&(a=n.innerHeight-e.bottom),{top:r?0:t.clientTop,right:t.clientLeft>e.left?e.right:r?n.innerWidth-o-i:t.offsetWidth-o,bottom:r?n.innerHeight-a:t.offsetHeight-a,left:r?i:t.clientLeft}}function Xs(t,n){var e=Boolean(n.getRootNode&&n.getRootNode().host);if(t.contains(n))return!0;if(e){var r=n;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Qs(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Js(t,n){return n===bs?Qs(function(t){var n=Qu(t),e=n.visualViewport,r=n.innerWidth,i=n.innerHeight;return e&&/iPhone|iPod|iPad/.test(navigator.platform)&&(r=e.width,i=e.height),{width:r,height:i,x:0,y:0}}(t)):Ku(n)?Xu(n):Qs(function(t){var n=Qu(t),e=Ju(t),r=rs(ns(t),n);return r.height=Math.max(r.height,n.innerHeight),r.width=Math.max(r.width,n.innerWidth),r.x=-e.scrollLeft,r.y=-e.scrollTop,r}(ns(t)))}function Gs(t,n,e){var r="clippingParents"===n?function(t){var n=us(t),e=["absolute","fixed"].indexOf(as(t).position)>=0&&Ku(t)?ls(t):t;return Gu(e)?n.filter(function(t){return Gu(t)&&Xs(t,e)}):[]}(t):[].concat(n),i=[].concat(r,[e]),o=i[0],a=i.reduce(function(n,e){var r=Js(t,e),i=Ws(Ku(e)?e:ns(t));return n.top=Math.max(r.top+i.top,n.top),n.right=Math.min(r.right-i.right,n.right),n.bottom=Math.min(r.bottom-i.bottom,n.bottom),n.left=Math.max(r.left+i.left,n.left),n},Js(t,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Ks(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},{},t)}function tc(t,n){return n.reduce(function(n,e){return n[e]=t,n},{})}function nc(t,n){void 0===n&&(n={});var e=n,r=e.placement,i=void 0===r?t.placement:r,o=e.boundary,a=void 0===o?ws:o,u=e.rootBoundary,s=void 0===u?bs:u,c=e.elementContext,l=void 0===c?_s:c,f=e.altBoundary,p=void 0!==f&&f,h=e.padding,d=void 0===h?0:h,m=Ks("number"!=typeof d?d:tc(d,gs)),g=l===_s?xs:_s,v=t.elements.reference,y=t.rects.popper,w=t.elements[p?g:l],b=Gs(Gu(w)?w:w.contextElement||ns(t.elements.popper),a,s),_=Xu(v),x=qs({reference:_,element:y,strategy:"absolute",placement:i}),M=Qs(Object.assign({},y,{},x)),E=l===_s?M:_,k={top:b.top-E.top+m.top,bottom:E.bottom-b.bottom+m.bottom,left:b.left-E.left+m.left,right:E.right-b.right+m.right},S=t.modifiersData.offset;if(l===_s&&S){var T=S[i];Object.keys(k).forEach(function(t){var n=[hs,ps].indexOf(t)>=0?1:-1,e=[fs,ps].indexOf(t)>=0?"y":"x";k[t]+=T[e]*n})}return k}function ec(t,n){void 0===n&&(n={});var e=n,r=e.placement,i=e.boundary,o=e.rootBoundary,a=e.padding,u=e.flipVariations,s=e.allowedAutoPlacements,c=void 0===s?Es:s,l=Us(r),f=(l?u?Ms:Ms.filter(function(t){return Us(t)===l}):gs).filter(function(t){return c.indexOf(t)>=0}).reduce(function(n,e){return n[e]=nc(t,{placement:e,boundary:i,rootBoundary:o,padding:a})[Ns(e)],n},{});return Object.keys(f).sort(function(t,n){return f[t]-f[n]})}function rc(t,n,e){return Math.max(t,Math.min(n,e))}function ic(t,n,e){return void 0===e&&(e={x:0,y:0}),{top:t.top-n.height-e.y,right:t.right-n.width+e.x,bottom:t.bottom-n.height+e.y,left:t.left-n.width-e.x}}function oc(t){return[fs,hs,ps,ds].some(function(n){return t[n]>=0})}var ac=Is({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var n=t.state,e=t.instance,r=t.options,i=r.scroll,o=void 0===i||i,a=r.resize,u=void 0===a||a,s=Qu(n.elements.popper),c=[].concat(n.scrollParents.reference,n.scrollParents.popper);return o&&c.forEach(function(t){t.addEventListener("scroll",e.update,Ps)}),u&&s.addEventListener("resize",e.update,Ps),function(){o&&c.forEach(function(t){t.removeEventListener("scroll",e.update,Ps)}),u&&s.removeEventListener("resize",e.update,Ps)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var n=t.state,e=t.name;n.modifiersData[e]=qs({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var n=t.state,e=t.options,r=e.gpuAcceleration,i=void 0===r||r,o=e.adaptive,a=void 0===o||o,u=as(n.elements.popper).transitionProperty||"";a&&["transform","top","right","bottom","left"].some(function(t){return u.indexOf(t)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',"\n\n",'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.","\n\n","We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "));var s={placement:Ns(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:i};null!=n.modifiersData.popperOffsets&&(n.styles.popper=Object.assign({},n.styles.popper,{},Vs(Object.assign({},s,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:a})))),null!=n.modifiersData.arrow&&(n.styles.arrow=Object.assign({},n.styles.arrow,{},Vs(Object.assign({},s,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var n=t.state;Object.keys(n.elements).forEach(function(t){var e=n.styles[t]||{},r=n.attributes[t]||{},i=n.elements[t];Ku(i)&&ts(i)&&(Object.assign(i.style,e),Object.keys(r).forEach(function(t){var n=r[t];!1===n?i.removeAttribute(t):i.setAttribute(t,!0===n?"":n)}))})},effect:function(t){var n=t.state,e={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,e.popper),n.elements.arrow&&Object.assign(n.elements.arrow.style,e.arrow),function(){Object.keys(n.elements).forEach(function(t){var r=n.elements[t],i=n.attributes[t]||{},o=Object.keys(n.styles.hasOwnProperty(t)?n.styles[t]:e[t]).reduce(function(t,n){return t[n]="",t},{});Ku(r)&&ts(r)&&(Object.assign(r.style,o),Object.keys(i).forEach(function(t){r.removeAttribute(t)}))})}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var n=t.state,e=t.options,r=t.name,i=e.offset,o=void 0===i?[0,0]:i,a=Es.reduce(function(t,e){return t[e]=function(t,n,e){var r=Ns(t),i=[ds,fs].indexOf(r)>=0?-1:1,o="function"==typeof e?e(Object.assign({},n,{placement:t})):e,a=o[0],u=o[1];return a=a||0,u=(u||0)*i,[ds,hs].indexOf(r)>=0?{x:u,y:a}:{x:a,y:u}}(e,n.rects,o),t},{}),u=a[n.placement],s=u.x,c=u.y;null!=n.modifiersData.popperOffsets&&(n.modifiersData.popperOffsets.x+=s,n.modifiersData.popperOffsets.y+=c),n.modifiersData[r]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(t){var n=t.state,e=t.options,r=t.name;if(!n.modifiersData[r]._skip){for(var i=e.fallbackPlacements,o=e.padding,a=e.boundary,u=e.rootBoundary,s=e.altBoundary,c=e.flipVariations,l=void 0===c||c,f=e.allowedAutoPlacements,p=n.options.placement,h=Ns(p),d=i||(h!==p&&l?function(t){if(Ns(t)===ms)return[];var n=Ys(t);return[Bs(t),n,Bs(n)]}(p):[Ys(p)]),m=[p].concat(d).reduce(function(t,e){return t.concat(Ns(e)===ms?ec(n,{placement:e,boundary:a,rootBoundary:u,padding:o,flipVariations:l,allowedAutoPlacements:f}):e)},[]),g=n.rects.reference,v=n.rects.popper,y=new Map,w=!0,b=m[0],_=0;_<m.length;_++){var x=m[_],M=Ns(x),E=Us(x)===vs,k=[fs,ps].indexOf(M)>=0,S=k?"width":"height",T=nc(n,{placement:x,boundary:a,rootBoundary:u,altBoundary:s,padding:o}),A=k?E?hs:ds:E?ps:fs;g[S]>v[S]&&(A=Ys(A));var C=Ys(A),D=[T[M]<=0,T[A]<=0,T[C]<=0];if(D.every(function(t){return t})){b=x,w=!1;break}y.set(x,D)}if(w)for(var N=function(t){var n=m.find(function(n){var e=y.get(n);if(e)return e.slice(0,t).every(function(t){return t})});if(n)return b=n,"break"},$=l?3:1;$>0&&"break"!==N($);$--);n.placement!==b&&(n.modifiersData[r]._skip=!0,n.placement=b,n.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var n=t.state,e=t.options,r=t.name,i=e.mainAxis,o=void 0===i||i,a=e.altAxis,u=void 0!==a&&a,s=e.boundary,c=e.rootBoundary,l=e.altBoundary,f=e.padding,p=e.tether,h=void 0===p||p,d=e.tetherOffset,m=void 0===d?0:d,g=nc(n,{boundary:s,rootBoundary:c,padding:f,altBoundary:l}),v=Ns(n.placement),y=Us(n.placement),w=!y,b=Hs(v),_="x"===b?"y":"x",x=n.modifiersData.popperOffsets,M=n.rects.reference,E=n.rects.popper,k="function"==typeof m?m(Object.assign({},n.rects,{placement:n.placement})):m,S={x:0,y:0};if(x){if(o){var T="y"===b?fs:ds,A="y"===b?ps:hs,C="y"===b?"height":"width",D=x[b],N=x[b]+g[T],$=x[b]-g[A],O=h?-E[C]/2:0,j=y===vs?M[C]:E[C],L=y===vs?-E[C]:-M[C],I=n.elements.arrow,P=h&&I?is(I):{width:0,height:0},U=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=U[T],q=U[A],F=rc(0,M[C],P[C]),V=w?M[C]/2-O-F-H-k:j-F-H-k,z=w?-M[C]/2+O+F+q+k:L+F+q+k,Y=n.elements.arrow&&ls(n.elements.arrow),R=Y?"y"===b?Y.clientTop||0:Y.clientLeft||0:0,B=n.modifiersData.offset?n.modifiersData.offset[n.placement][b]:0,Z=x[b]+V-B-R,W=x[b]+z-B,X=rc(h?Math.min(N,Z):N,D,h?Math.max($,W):$);x[b]=X,S[b]=X-D}if(u){var Q="x"===b?fs:ds,J="x"===b?ps:hs,G=x[_],K=rc(G+g[Q],G,G-g[J]);x[_]=K,S[_]=K-G}n.modifiersData[r]=S}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(t){var n,e=t.state,r=t.name,i=e.elements.arrow,o=e.modifiersData.popperOffsets,a=Ns(e.placement),u=Hs(a),s=[ds,hs].indexOf(a)>=0?"height":"width";if(i&&o){var c=e.modifiersData[r+"#persistent"].padding,l=is(i),f="y"===u?fs:ds,p="y"===u?ps:hs,h=e.rects.reference[s]+e.rects.reference[u]-o[u]-e.rects.popper[s],d=o[u]-e.rects.reference[u],m=e.elements.arrow&&ls(e.elements.arrow),g=m?"y"===u?m.clientHeight||0:m.clientWidth||0:0,v=h/2-d/2,y=c[f],w=g-l[s]-c[p],b=g/2-l[s]/2+v,_=rc(y,b,w),x=u;e.modifiersData[r]=((n={})[x]=_,n.centerOffset=_-b,n)}},effect:function(t){var n=t.state,e=t.options,r=t.name,i=e.element,o=void 0===i?"[data-popper-arrow]":i,a=e.padding,u=void 0===a?0:a;null!=o&&("string"!=typeof o||(o=n.elements.popper.querySelector(o)))&&(Xs(n.elements.popper,o)?(n.elements.arrow=o,n.modifiersData[r+"#persistent"]={padding:Ks("number"!=typeof u?u:tc(u,gs))}):console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" ")))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var n=t.state,e=t.name,r=n.rects.reference,i=n.rects.popper,o=n.modifiersData.preventOverflow,a=nc(n,{elementContext:"reference"}),u=nc(n,{altBoundary:!0}),s=ic(a,r),c=ic(u,i,o),l=oc(s),f=oc(c);n.modifiersData[e]={referenceClippingOffsets:s,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}}]}),uc={passive:!0},sc="tippy-iOS",cc="tippy-box",lc="tippy-content",fc="tippy-backdrop",pc="tippy-arrow",hc="tippy-svg-arrow";function dc(t,n,e){if(Array.isArray(t)){var r=t[n];return null==r?Array.isArray(e)?e[n]:e:r}return t}function mc(t,n){var e={}.toString.call(t);return 0===e.indexOf("[object")&&e.indexOf(n+"]")>-1}function gc(t,n){return"function"==typeof t?t.apply(void 0,n):t}function vc(t,n){return 0===n?t:function(r){clearTimeout(e),e=setTimeout(function(){t(r)},n)};var e}function yc(t){return[].concat(t)}function wc(t,n){-1===t.indexOf(n)&&t.push(n)}function bc(t){return[].slice.call(t)}function _c(){return document.createElement("div")}function xc(t){return["Element","Fragment"].some(function(n){return mc(t,n)})}function Mc(t){return xc(t)?[t]:function(t){return mc(t,"NodeList")}(t)?bc(t):Array.isArray(t)?t:bc(document.querySelectorAll(t))}function Ec(t,n){t.forEach(function(t){t&&(t.style.transitionDuration=n+"ms")})}function kc(t,n){t.forEach(function(t){t&&t.setAttribute("data-state",n)})}function Sc(t,n,e){var r=n+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(n){t[r](n,e)})}var Tc={isTouch:!1},Ac=0;function Cc(){Tc.isTouch||(Tc.isTouch=!0,window.performance&&document.addEventListener("mousemove",Dc))}function Dc(){var t=performance.now();t-Ac<20&&(Tc.isTouch=!1,document.removeEventListener("mousemove",Dc)),Ac=t}function Nc(){var t,n=document.activeElement;if((t=n)&&t._tippy&&t._tippy.reference===t){var e=n._tippy;n.blur&&!e.state.isVisible&&n.blur()}}var $c,Oc="undefined"!=typeof window&&"undefined"!=typeof document,jc=Oc?navigator.userAgent:"",Lc=/MSIE |Trident\//.test(jc),Ic=Oc&&/iPhone|iPad|iPod/.test(navigator.platform);function Pc(t){return[t+"() was called on a"+("destroy"===t?"n already-":" ")+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function Uc(t){return t.replace(/[ \t]{2,}/g," ").replace(/^[ \t]*/gm,"").trim()}function Hc(t){return Uc("\n  %ctippy.js\n\n  %c"+Uc(t)+"\n\n  %cð·â This is a development-only message. It will be removed in production.\n  ")}function qc(t){return[Hc(t),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}function Fc(t,n){var e;t&&!$c.has(n)&&($c.add(n),(e=console).warn.apply(e,qc(n)))}function Vc(t,n){var e;t&&!$c.has(n)&&($c.add(n),(e=console).error.apply(e,qc(n)))}$c=new Set;var zc={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Yc=Object.assign({appendTo:function(){return document.body},aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},zc,{},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),Rc=Object.keys(Yc);function Bc(t){var n=(t.plugins||[]).reduce(function(n,e){var r=e.name,i=e.defaultValue;return r&&(n[r]=void 0!==t[r]?t[r]:i),n},{});return Object.assign({},t,{},n)}function Zc(t,n){var e=Object.assign({},n,{content:gc(n.content,[t])},n.ignoreAttributes?{}:function(t,n){return(n?Object.keys(Bc(Object.assign({},Yc,{plugins:n}))):Rc).reduce(function(n,e){var r=(t.getAttribute("data-tippy-"+e)||"").trim();if(!r)return n;if("content"===e)n[e]=r;else try{n[e]=JSON.parse(r)}catch(t){n[e]=r}return n},{})}(t,n.plugins));return e.aria=Object.assign({},Yc.aria,{},e.aria),e.aria={expanded:"auto"===e.aria.expanded?n.interactive:e.aria.expanded,content:"auto"===e.aria.content?n.interactive?null:"describedby":e.aria.content},e}function Wc(t,n){void 0===t&&(t={}),void 0===n&&(n=[]),Object.keys(t).forEach(function(t){var e,r,i,o=!function(t,n){return{}.hasOwnProperty.call(t,n)}((e=Yc,r=Object.keys(zc),i=Object.assign({},e),r.forEach(function(t){delete i[t]}),i),t);o&&(o=0===n.filter(function(n){return n.name===t}).length),Fc(o,["`"+t+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.","\n\n","All props: https://atomiks.github.io/tippyjs/v6/all-props/\n","Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))})}var Xc=function(){return"innerHTML"};function Qc(t,n){t[Xc()]=n}function Jc(t){var n=_c();return!0===t?n.className=pc:(n.className=hc,xc(t)?n.appendChild(t):Qc(n,t)),n}function Gc(t,n){xc(n.content)?(Qc(t,""),t.appendChild(n.content)):"function"!=typeof n.content&&(n.allowHTML?Qc(t,n.content):t.textContent=n.content)}function Kc(t){var n=t.firstElementChild,e=bc(n.children);return{box:n,content:e.find(function(t){return t.classList.contains(lc)}),arrow:e.find(function(t){return t.classList.contains(pc)||t.classList.contains(hc)}),backdrop:e.find(function(t){return t.classList.contains(fc)})}}function tl(t){var n=_c(),e=_c();e.className=cc,e.setAttribute("data-state","hidden"),e.setAttribute("tabindex","-1");var r=_c();function i(e,r){var i=Kc(n),o=i.box,a=i.content,u=i.arrow;r.theme?o.setAttribute("data-theme",r.theme):o.removeAttribute("data-theme"),"string"==typeof r.animation?o.setAttribute("data-animation",r.animation):o.removeAttribute("data-animation"),r.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?o.setAttribute("role",r.role):o.removeAttribute("role"),e.content!==r.content&&Gc(a,t.props),r.arrow?u?e.arrow!==r.arrow&&(o.removeChild(u),o.appendChild(Jc(r.arrow))):o.appendChild(Jc(r.arrow)):u&&o.removeChild(u)}return r.className=lc,r.setAttribute("data-state","hidden"),Gc(r,t.props),n.appendChild(e),e.appendChild(r),i(t.props,t.props),{popper:n,onUpdate:i}}tl.$$tippy=!0;var nl=1,el=[],rl=[];function il(t,n){var e,r,i,o,a,u,s,c,l,f,p=Zc(t,Object.assign({},Yc,{},Bc(n))),h=!1,d=!1,m=!1,g=[],v=vc(Z,p.interactiveDebounce),y=(c=p.triggerTarget||t,(l=yc(c)[0])&&l.ownerDocument||document),w=nl++,b=(f=p.plugins).filter(function(t,n){return f.indexOf(t)===n}),_={id:w,reference:t,popper:_c(),popperInstance:null,props:p,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:b,clearDelayTimeouts:function(){clearTimeout(e),clearTimeout(r),cancelAnimationFrame(i)},setProps:function(n){if(Fc(_.state.isDestroyed,Pc("setProps")),_.state.isDestroyed)return;L("onBeforeUpdate",[_,n]),R();var e=_.props,r=Zc(t,Object.assign({},_.props,{},n,{ignoreAttributes:!0}));_.props=r,Y(),e.interactiveDebounce!==r.interactiveDebounce&&(U(),v=vc(Z,r.interactiveDebounce));e.triggerTarget&&!r.triggerTarget?yc(e.triggerTarget).forEach(function(t){t.removeAttribute("aria-expanded")}):r.triggerTarget&&t.removeAttribute("aria-expanded");P(),O(),E&&E(e,r);_.popperInstance&&(J(),K().forEach(function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)}));L("onAfterUpdate",[_,n])},setContent:function(t){_.setProps({content:t})},show:function(){Fc(_.state.isDestroyed,Pc("show"));var t=_.state.isVisible,n=_.state.isDestroyed,e=!_.state.isEnabled,r=Tc.isTouch&&!_.props.touch,i=dc(_.props.duration,0,Yc.duration);if(t||n||e||r)return;if(D().hasAttribute("disabled"))return;if(L("onShow",[_],!1),!1===_.props.onShow(_))return;_.state.isVisible=!0,C()&&(M.style.visibility="visible");O(),q(),_.state.isMounted||(M.style.transition="none");if(C()){var o=N(),a=o.box,s=o.content;Ec([a,s],0)}u=function(){if(_.state.isVisible&&!m){if(m=!0,M.offsetHeight,M.style.transition=_.props.moveTransition,C()&&_.props.animation){var t=N(),n=t.box,e=t.content;Ec([n,e],i),kc([n,e],"visible")}I(),P(),wc(rl,_),j(!0),_.state.isMounted=!0,L("onMount",[_]),_.props.animation&&C()&&function(t,n){V(t,n)}(i,function(){_.state.isShown=!0,L("onShown",[_])})}},function(){var t,n=_.props.appendTo,e=D();t=_.props.interactive&&n===Yc.appendTo||"parent"===n?e.parentNode:gc(n,[e]);t.contains(M)||t.appendChild(M);J(),Fc(_.props.interactive&&n===Yc.appendTo&&e.nextElementSibling!==M,["Interactive tippy element may not be accessible via keyboard","navigation because it is not directly after the reference element","in the DOM source order.","\n\n","Using a wrapper <div> or <span> tag around the reference element","solves this by creating a new parentNode context.","\n\n","Specifying `appendTo: document.body` silences this warning, but it","assumes you are using a focus management solution to handle","keyboard navigation.","\n\n","See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity"].join(" "))}()},hide:function(){Fc(_.state.isDestroyed,Pc("hide"));var t=!_.state.isVisible,n=_.state.isDestroyed,e=!_.state.isEnabled,r=dc(_.props.duration,1,Yc.duration);if(t||n||e)return;if(L("onHide",[_],!1),!1===_.props.onHide(_))return;_.state.isVisible=!1,_.state.isShown=!1,m=!1,C()&&(M.style.visibility="hidden");if(U(),F(),O(),C()){var i=N(),o=i.box,a=i.content;_.props.animation&&(Ec([o,a],r),kc([o,a],"hidden"))}I(),P(),_.props.animation?C()&&function(t,n){V(t,function(){!_.state.isVisible&&M.parentNode&&M.parentNode.contains(M)&&n()})}(r,_.unmount):_.unmount()},enable:function(){_.state.isEnabled=!0},disable:function(){_.hide(),_.state.isEnabled=!1},unmount:function(){_.state.isVisible&&_.hide();if(!_.state.isMounted)return;G(),K().forEach(function(t){t._tippy.unmount()}),M.parentNode&&M.parentNode.removeChild(M);0===(rl=rl.filter(function(t){return t!==_})).length&&j(!1);_.state.isMounted=!1,L("onHidden",[_])},destroy:function(){if(Fc(_.state.isDestroyed,Pc("destroy")),_.state.isDestroyed)return;_.clearDelayTimeouts(),_.unmount(),R(),delete t._tippy,_.state.isDestroyed=!0,L("onDestroy",[_])}};if(!p.render)return Vc(!0,"render() function has not been supplied."),_;var x=p.render(_),M=x.popper,E=x.onUpdate;M.setAttribute("data-tippy-root",""),M.id="tippy-"+_.id,_.popper=M,t._tippy=_,M._tippy=_;var k=b.map(function(t){return t.fn(_)}),S=t.hasAttribute("aria-expanded");return Y(),P(),O(),L("onCreate",[_]),p.showOnCreate&&tt(),M.addEventListener("mouseenter",function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()}),M.addEventListener("mouseleave",function(t){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&(y.addEventListener("mousemove",v),v(t))}),_;function T(){var t=_.props.touch;return Array.isArray(t)?t:[t,0]}function A(){return"hold"===T()[0]}function C(){var t;return!!(null==(t=_.props.render)?void 0:t.$$tippy)}function D(){return s||t}function N(){return Kc(M)}function $(t){return _.state.isMounted&&!_.state.isVisible||Tc.isTouch||o&&"focus"===o.type?0:dc(_.props.delay,t?0:1,Yc.delay)}function O(){M.style.pointerEvents=_.props.interactive&&_.state.isVisible?"":"none",M.style.zIndex=""+_.props.zIndex}function j(t){var n=t&&Ic&&Tc.isTouch;y.body.classList[n?"add":"remove"](sc)}function L(t,n,e){var r;(void 0===e&&(e=!0),k.forEach(function(e){e[t]&&e[t].apply(void 0,n)}),e)&&(r=_.props)[t].apply(r,n)}function I(){var n=_.props.aria;if(n.content){var e="aria-"+n.content,r=M.id;yc(_.props.triggerTarget||t).forEach(function(t){var n=t.getAttribute(e);if(_.state.isVisible)t.setAttribute(e,n?n+" "+r:r);else{var i=n&&n.replace(r,"").trim();i?t.setAttribute(e,i):t.removeAttribute(e)}})}}function P(){!S&&_.props.aria.expanded&&yc(_.props.triggerTarget||t).forEach(function(t){_.props.interactive?t.setAttribute("aria-expanded",_.state.isVisible&&t===D()?"true":"false"):t.removeAttribute("aria-expanded")})}function U(){y.body.removeEventListener("mouseleave",nt),y.removeEventListener("mousemove",v),el=el.filter(function(t){return t!==v})}function H(t){if(!_.props.interactive||!M.contains(t.target)){if(D().contains(t.target)){if(Tc.isTouch)return;if(_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else _.props.onClickOutside(_,t);!0===_.props.hideOnClick&&(h=!1,_.clearDelayTimeouts(),_.hide(),d=!0,setTimeout(function(){d=!1}),_.state.isMounted||F())}}function q(){y.addEventListener("mousedown",H,!0)}function F(){y.removeEventListener("mousedown",H,!0)}function V(t,n){var e=N().box;function r(t){t.target===e&&(Sc(e,"remove",r),n())}if(0===t)return n();Sc(e,"remove",a),Sc(e,"add",r),a=r}function z(n,e,r){void 0===r&&(r=!1),yc(_.props.triggerTarget||t).forEach(function(t){t.addEventListener(n,e,r),g.push({node:t,eventType:n,handler:e,options:r})})}function Y(){var t;A()&&(z("touchstart",B,uc),z("touchend",W,uc)),(t=_.props.trigger,t.split(/\s+/).filter(Boolean)).forEach(function(t){if("manual"!==t)switch(z(t,B),t){case"mouseenter":z("mouseleave",W);break;case"focus":z(Lc?"focusout":"blur",X);break;case"focusin":z("focusout",X)}})}function R(){g.forEach(function(t){var n=t.node,e=t.eventType,r=t.handler,i=t.options;n.removeEventListener(e,r,i)}),g=[]}function B(t){var n=!1;!_.state.isEnabled||Q(t)||d||(o=t,s=t.currentTarget,P(),!_.state.isVisible&&mc(t,"MouseEvent")&&el.forEach(function(n){return n(t)}),"click"===t.type&&(_.props.trigger.indexOf("mouseenter")<0||h)&&!1!==_.props.hideOnClick&&_.state.isVisible?n=!0:tt(t),"click"===t.type&&(h=!n),n&&nt(t))}function Z(n){var e=n.target,r=t.contains(e)||M.contains(e);"mousemove"===n.type&&r||function(t,n){var e=n.clientX,r=n.clientY;return t.every(function(t){var n=t.popperRect,i=t.popperState,o=t.props.interactiveBorder,a=i.placement.split("-")[0],u=i.modifiersData.offset;if(!u)return!0;var s="bottom"===a?u.top.y:0,c="top"===a?u.bottom.y:0,l="right"===a?u.left.x:0,f="left"===a?u.right.x:0,p=n.top-r+s>o,h=r-n.bottom-c>o,d=n.left-e+l>o,m=e-n.right-f>o;return p||h||d||m})}(K().concat(M).map(function(t){var n,e=null==(n=t._tippy.popperInstance)?void 0:n.state;return e?{popperRect:t.getBoundingClientRect(),popperState:e,props:p}:null}).filter(Boolean),n)&&(U(),nt(n))}function W(t){if(!(Q(t)||_.props.trigger.indexOf("click")>=0&&h))return _.props.interactive?(y.body.addEventListener("mouseleave",nt),y.addEventListener("mousemove",v),wc(el,v),void v(t)):void nt(t)}function X(t){_.props.trigger.indexOf("focusin")<0&&t.target!==D()||_.props.interactive&&t.relatedTarget&&M.contains(t.relatedTarget)||nt(t)}function Q(t){return!!Tc.isTouch&&A()!==t.type.indexOf("touch")>=0}function J(){G();var n=_.props,e=n.popperOptions,r=n.placement,i=n.offset,o=n.getReferenceClientRect,a=n.moveTransition,s=C()?Kc(M).arrow:null,c=o?{getBoundingClientRect:o,contextElement:D()}:t,l={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var n=t.state;if(C()){var e=N().box;["placement","reference-hidden","escaped"].forEach(function(t){"placement"===t?e.setAttribute("data-placement",n.placement):n.attributes.popper["data-popper-"+t]?e.setAttribute("data-"+t,""):e.removeAttribute("data-"+t)}),n.attributes.popper={}}}},f={name:"arrow",enabled:!!s,options:{element:s,padding:3}},p=[{name:"offset",options:{offset:i}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}}].concat(C()?[f]:[],(null==e?void 0:e.modifiers)||[],[l]);_.popperInstance=ac(c,M,Object.assign({},e,{placement:r,onFirstUpdate:u,modifiers:p}))}function G(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function K(){return bc(M.querySelectorAll("[data-tippy-root]"))}function tt(t){_.clearDelayTimeouts(),t&&L("onTrigger",[_,t]),q();var n=$(!0),r=T(),i=r[0],o=r[1];Tc.isTouch&&"hold"===i&&o&&(n=o),n?e=setTimeout(function(){_.show()},n):_.show()}function nt(t){if(_.clearDelayTimeouts(),L("onUntrigger",[_,t]),_.state.isVisible){if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0&&h)){var n=$(!1);n?r=setTimeout(function(){_.state.isVisible&&_.hide()},n):i=requestAnimationFrame(function(){_.hide()})}}else F()}}function ol(t,n){void 0===n&&(n={});var e=Yc.plugins.concat(n.plugins||[]);!function(t){var n=!t,e="[object Object]"===Object.prototype.toString.call(t)&&!t.addEventListener;Vc(n,["tippy() was passed","`"+String(t)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),Vc(e,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}(t),Wc(n,e),document.addEventListener("touchstart",Cc,Object.assign({},uc,{capture:!0})),window.addEventListener("blur",Nc);var r=Object.assign({},n,{plugins:e}),i=Mc(t),o=xc(r.content),a=i.length>1;Fc(o&&a,["tippy() was passed an Element as the `content` prop, but more than","one tippy instance was created by this invocation. This means the","content element will only be appended to the last tippy instance.","\n\n","Instead, pass the .innerHTML of the element, or use a function that","returns a cloned version of the element instead.","\n\n","1) content: element.innerHTML\n","2) content: () => element.cloneNode(true)"].join(" "));var u=i.reduce(function(t,n){var e=n&&il(n,r);return e&&t.push(e),t},[]);return xc(t)?u[0]:u}ol.defaultProps=Yc,ol.setDefaultProps=function(t){Wc(t,[]),Object.keys(t).forEach(function(n){Yc[n]=t[n]})},ol.currentInput=Tc,ol.setDefaultProps({render:tl});const al=t(void 0),ul=t(void 0),sl=t(void 0),cl=t(void 0),ll=t(void 0),fl="https://unpkg.com/es-atlas@0.2.1/es/provinces.json",pl="https://api.tinybird.co/v0/pipes/ccaa_covid19_datos_isciii_pipe_casos.json?token=p.eyJ1IjogIjRkNjc2ZTM5LTA2ZTItNDg0NC04MzA3LTM4YjlkZGZlYzQyNCIsICJpZCI6ICI1YTJmYWZmOC1jMzRiLTQ1M2QtYjRiMi1mODkyOTZjOTliYjIifQ.3Q5e1aC61ZOY7n7_Fds2KUtaAYprkTMrM2EIyC6ciOM",hl="https://api.tinybird.co/v0/pipes/ccaa_covid19_datos_isciii_fallecidos.json?token=p.eyJ1IjogIjRkNjc2ZTM5LTA2ZTItNDg0NC04MzA3LTM4YjlkZGZlYzQyNCIsICJpZCI6ICIxOTk3NDk3Ni1jZGUzLTQ0Y2ItOGEwMC0yMmNkZjI0N2ZjNjIifQ.tcJStJ9nnsxxZUOeZ-0jqieozpU4wwUXFt7HzGniPC8",dl="https://api.tinybird.co/v0/pipes/ccaa_covid19_datos_isciii_country.json?token=p.eyJ1IjogIjRkNjc2ZTM5LTA2ZTItNDg0NC04MzA3LTM4YjlkZGZlYzQyNCIsICJpZCI6ICI1ZjQ0YjgzMy1lNjM2LTQwYjItYjgxNS1mNzU5ZGEyYTY5Y2QifQ._-Ekrl7nvCrLS7GIcZKI0jYOIKL-xJiXcZFlS26_Ss8";function ml(t){let n,e,r,v,y,w,b=t[1][t[0]]+"";return{c(){n=i("div"),e=i("h2"),r=o("EvoluciÃ³n diaria del nÃºmero de "),v=o(b),y=a(),w=i("div"),this.h()},l(t){n=u(t,"DIV",{id:!0,class:!0});var i=s(n);e=u(i,"H2",{});var o=s(e);r=c(o,"EvoluciÃ³n diaria del nÃºmero de "),v=c(o,b),o.forEach(l),y=f(i),w=u(i,"DIV",{id:!0}),s(w).forEach(l),i.forEach(l),this.h()},h(){p(w,"id","svg-container-barchart"),p(n,"id","container-barchart"),p(n,"class","svelte-n6ctwc")},m(t,i){h(t,n,i),d(n,e),d(e,r),d(e,v),d(n,y),d(n,w)},p(t,[n]){1&n&&b!==(b=t[1][t[0]]+"")&&m(v,b)},i:g,o:g,d(t){t&&l(n)}}}const gl=750;function vl(t,n,e){let r,i;v(t,ll,t=>e(4,r=t)),v(t,al,t=>e(0,i=t));const o={top:20,right:30,bottom:30,left:50};let a,u=!1;const s={cases:"contagiados",deaths:"fallecidos",recovered:"recuperados"};function c(t){const n=document.getElementById("svg-container-barchart"),e=tn("#svg-container-barchart").append("svg").attr("class","bar-chart"),r=n.offsetWidth;console.log("Div svg-container-barchart width:",r);const a=r/1.8;e.attr("viewBox",[0,0,r,a]);const u=Io().domain(t.map(t=>t.fecha)).range([o.left,r-o.right]).padding(.1),c=Zo().domain([0,X(t,t=>t.total)]).nice().range([a-o.bottom,o.top]),l=t=>t.attr("transform",`translate(${o.left}, 0)`).call(ct(c).ticks(r/80));e.append("g").attr("fill","steelblue").selectAll("rect").data(t).join("rect").attr("class",i).attr("x",t=>u(t.fecha)).attr("width",u.bandwidth()).attr("y",t=>c(0)).attr("height",t=>c(0)-c(0)).transition().duration(gl).attr("y",t=>c(t.total)).attr("height",t=>c(0)-c(t.total));e.append("g").attr("transform",`translate(0,${a-o.bottom})`).call(t=>t.attr("transform",`translate(0,${a-o.bottom})`).call(st(u).tickValues(u.domain().filter((t,n)=>!(n%15))).tickFormat(ka("%e %b"))));const f=e.append("g").call(l);return function(t){[...document.querySelectorAll("rect")].forEach(t=>{t._tippy&&t._tippy.destroy()}),c.domain([0,X(t,t=>t.total)]).nice(),f.transition().duration(gl).call(l);e.selectAll("rect").data(t).join("rect").attr("data-tippy-content",t=>{const n=t.fecha,e=n.getUTCDate()+"/"+(n.getUTCMonth()+1)+"/"+n.getUTCFullYear();return`<span class="${i}">${t.total}</span> ${s[i]}<br>${e}`}).attr("class",i).transition().duration(gl).attr("y",t=>c(t.total)).attr("height",t=>c(0)-c(t.total)).each(function(t){ol(this).destroy(),ol(this,{allowHTML:!0,theme:"light"})})}}return y(async()=>{e(3,u=!0),window.addEventListener("resize",()=>{tn("svg.bar-chart").remove(),console.log("Recreate barchart"),e(2,a=c(r))})}),t.$$.update=(()=>{if(28&t.$$.dirty){let t;u&&(t=document.querySelector("svg.bar-chart")),u&&r&&!t&&e(2,a=c(r)),r&&a(r)}}),[i,s]}class yl extends n{constructor(t){super(),e(this,t,vl,ml,r,{})}}function wl(t,{delay:n=0,duration:e=400,easing:r=w}){const i=+getComputedStyle(t).opacity;return{delay:n,duration:e,easing:r,css:t=>`opacity: ${t*i}`}}function bl(t){let n,e,r,a,f,p=or(",")(t[3])+"";return{c(){n=i("span"),e=o(p)},l(t){n=u(t,"SPAN",{});var r=s(n);e=c(r,p),r.forEach(l)},m(r,i,o){h(r,n,i),d(n,e),a=!0,o&&f(),f=b(n,"outroend",t[4])},p(t,n){(!a||8&n)&&p!==(p=or(",")(t[3])+"")&&m(e,p)},i(t){a||(_(()=>{r||(r=x(n,wl,{duration:300},!0)),r.run(1)}),a=!0)},o(t){r||(r=x(n,wl,{duration:300},!1)),r.run(0),a=!1},d(t){t&&l(n),t&&r&&r.end(),f()}}}function _l(t){let n,e,r,g,v,y,w,b,_=t[2]&&bl(t);return{c(){n=i("div"),e=i("div"),r=o(t[0]),v=a(),y=i("div"),_&&_.c(),this.h()},l(i){n=u(i,"DIV",{class:!0});var o=s(n);e=u(o,"DIV",{class:!0});var a=s(e);r=c(a,t[0]),a.forEach(l),v=f(o),y=u(o,"DIV",{class:!0});var p=s(y);_&&_.l(p),p.forEach(l),o.forEach(l),this.h()},h(){p(e,"class",g="title "+t[1]+" svelte-s8uha6"),p(y,"class",w="number "+t[1]+" svelte-s8uha6"),p(n,"class","kpi-container svelte-s8uha6")},m(t,i){h(t,n,i),d(n,e),d(e,r),d(n,v),d(n,y),_&&_.m(y,null),b=!0},p(t,[n]){(!b||1&n)&&m(r,t[0]),(!b||2&n&&g!==(g="title "+t[1]+" svelte-s8uha6"))&&p(e,"class",g),t[2]?_?(_.p(t,n),M(_,1)):((_=bl(t)).c(),M(_,1),_.m(y,null)):_&&(E(),k(_,1,1,()=>{_=null}),S()),(!b||2&n&&w!==(w="number "+t[1]+" svelte-s8uha6"))&&p(y,"class",w)},i(t){b||(M(_),b=!0)},o(t){k(_),b=!1},d(t){t&&l(n),_&&_.d()}}}function xl(t,n,e){let r,{title:i}=n,{number:o}=n,{cssClass:a}=n,u=!0,s=!1;function c(){e(3,r=o),e(2,u=!0)}return y(async()=>{c(),e(6,s=!0)}),t.$set=(t=>{"title"in t&&e(0,i=t.title),"number"in t&&e(5,o=t.number),"cssClass"in t&&e(1,a=t.cssClass)}),t.$$.update=(()=>{96&t.$$.dirty&&s&&e(2,u=!1)}),[i,a,u,r,c,o]}class Ml extends n{constructor(t){super(),e(this,t,xl,_l,r,{title:0,number:5,cssClass:1})}}function El(t){let n,e,r,a,f;return{c(){n=i("span"),e=o(t[1])},l(r){n=u(r,"SPAN",{});var i=s(n);e=c(i,t[1]),i.forEach(l)},m(r,i,o){h(r,n,i),d(n,e),a=!0,o&&f(),f=b(n,"outroend",t[2])},p(t,n){(!a||2&n)&&m(e,t[1])},i(t){a||(_(()=>{r||(r=x(n,wl,{duration:300},!0)),r.run(1)}),a=!0)},o(t){r||(r=x(n,wl,{duration:300},!1)),r.run(0),a=!1},d(t){t&&l(n),t&&r&&r.end(),f()}}}function kl(t){let n,e,r,a=t[0]&&El(t);return{c(){n=i("h2"),e=o("Cifras clave en\n\t"),a&&a.c()},l(t){n=u(t,"H2",{});var r=s(n);e=c(r,"Cifras clave en\n\t"),a&&a.l(r),r.forEach(l)},m(t,i){h(t,n,i),d(n,e),a&&a.m(n,null),r=!0},p(t,[e]){t[0]?a?(a.p(t,e),M(a,1)):((a=El(t)).c(),M(a,1),a.m(n,null)):a&&(E(),k(a,1,1,()=>{a=null}),S())},i(t){r||(M(a),r=!0)},o(t){k(a),r=!1},d(t){t&&l(n),a&&a.d()}}}function Sl(t,n,e){let r,{place:i}=n,o=!0,a=!1;function u(){e(1,r=i),e(0,o=!0)}return y(async()=>{u(),e(4,a=!0)}),t.$set=(t=>{"place"in t&&e(3,i=t.place)}),t.$$.update=(()=>{24&t.$$.dirty&&a&&e(0,o=!1)}),[o,r,u,i]}class Tl extends n{constructor(t){super(),e(this,t,Sl,kl,r,{place:3})}}function Al(t,n,e){const r=t.slice();return r[3]=n[e],r}function Cl(t){let n;return{c(){n=o("Loading data...")},l(t){n=c(t,"Loading data...")},m(t,e){h(t,n,e)},p:g,i:g,o:g,d(t){t&&l(n)}}}function Dl(t){let n,e,r=t[0],i=[];for(let n=0;n<r.length;n+=1)i[n]=Nl(Al(t,r,n));const o=t=>k(i[t],1,1,()=>{i[t]=null});return{c(){for(let t=0;t<i.length;t+=1)i[t].c();n=O()},l(t){for(let n=0;n<i.length;n+=1)i[n].l(t);n=O()},m(t,r){for(let n=0;n<i.length;n+=1)i[n].m(t,r);h(t,n,r),e=!0},p(t,e){if(1&e){let a;for(r=t[0],a=0;a<r.length;a+=1){const o=Al(t,r,a);i[a]?(i[a].p(o,e),M(i[a],1)):(i[a]=Nl(o),i[a].c(),M(i[a],1),i[a].m(n.parentNode,n))}for(E(),a=r.length;a<i.length;a+=1)o(a);S()}},i(t){if(!e){for(let t=0;t<r.length;t+=1)M(i[t]);e=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)k(i[t]);e=!1},d(t){j(i,t),t&&l(n)}}}function Nl(t){let n;const e=[t[3]];let r={};for(let t=0;t<e.length;t+=1)r=L(r,e[t]);const i=new Ml({props:r});return{c(){T(i.$$.fragment)},l(t){A(i.$$.fragment,t)},m(t,e){C(i,t,e),n=!0},p(t,n){const r=1&n?N(e,[$(t[3])]):{};i.$set(r)},i(t){n||(M(i.$$.fragment,t),n=!0)},o(t){k(i.$$.fragment,t),n=!1},d(t){D(i,t)}}}function $l(t){let n,e,r,o,c,m,g;const v=new Tl({props:{place:t[1]}}),y=[Dl,Cl],w=[];function b(t,n){return t[0]?0:1}o=b(t),c=w[o]=y[o](t);const _=new yl({});return{c(){n=i("div"),T(v.$$.fragment),e=a(),r=i("div"),c.c(),m=a(),T(_.$$.fragment),this.h()},l(t){n=u(t,"DIV",{id:!0,class:!0});var i=s(n);A(v.$$.fragment,i),e=f(i),r=u(i,"DIV",{class:!0});var o=s(r);c.l(o),o.forEach(l),m=f(i),A(_.$$.fragment,i),i.forEach(l),this.h()},h(){p(r,"class","kpi-set svelte-1c484zj"),p(n,"id","container-keynumbers"),p(n,"class","svelte-1c484zj")},m(t,i){h(t,n,i),C(v,n,null),d(n,e),d(n,r),w[o].m(r,null),d(n,m),C(_,n,null),g=!0},p(t,[n]){const e={};2&n&&(e.place=t[1]),v.$set(e);let i=o;(o=b(t))===i?w[o].p(t,n):(E(),k(w[i],1,1,()=>{w[i]=null}),S(),(c=w[o])||(c=w[o]=y[o](t)).c(),M(c,1),c.m(r,null))},i(t){g||(M(v.$$.fragment,t),M(c),M(_.$$.fragment,t),g=!0)},o(t){k(v.$$.fragment,t),k(c),k(_.$$.fragment,t),g=!1},d(t){t&&l(n),D(v),w[o].d(),D(_)}}}function Ol(t,n,e){let r,i;v(t,cl,t=>e(2,r=t));let o="EspaÃ±a";return t.$$.update=(()=>{4&t.$$.dirty&&r&&(e(0,i=[{title:"Recuperados",number:r.altas,cssClass:"positive"},{title:"Contagiados",number:r.casos,cssClass:"neutral"},{title:"Fallecidos",number:r.fallecimientos,cssClass:"negative"}]),r.ccaa?e(1,o=r.ccaa):e(1,o="EspaÃ±a"))}),[i,o]}class jl extends n{constructor(t){super(),e(this,t,Ol,$l,r,{})}}function Ll(t){let n,e,r,m,v,y,w,_,x,M,E,k,S;return{c(){n=i("div"),e=i("div"),r=i("span"),m=o("Recuperados"),v=a(),y=i("div"),w=i("span"),_=o("Contagiados"),x=a(),M=i("div"),E=i("span"),k=o("Fallecidos"),this.h()},l(t){n=u(t,"DIV",{class:!0});var i=s(n);e=u(i,"DIV",{id:!0,class:!0});var o=s(e);r=u(o,"SPAN",{class:!0});var a=s(r);m=c(a,"Recuperados"),a.forEach(l),o.forEach(l),v=f(i),y=u(i,"DIV",{id:!0,class:!0});var p=s(y);w=u(p,"SPAN",{class:!0});var h=s(w);_=c(h,"Contagiados"),h.forEach(l),p.forEach(l),x=f(i),M=u(i,"DIV",{id:!0,class:!0});var d=s(M);E=u(d,"SPAN",{class:!0});var g=s(E);k=c(g,"Fallecidos"),g.forEach(l),d.forEach(l),i.forEach(l),this.h()},h(){p(r,"class","svelte-pk3a2r"),p(e,"id","recovered"),p(e,"class","button svelte-pk3a2r"),p(w,"class","svelte-pk3a2r"),p(y,"id","cases"),p(y,"class","selected button svelte-pk3a2r"),p(E,"class","svelte-pk3a2r"),p(M,"id","deaths"),p(M,"class","button svelte-pk3a2r"),p(n,"class","metric-control-container svelte-pk3a2r")},m(i,o,a){h(i,n,o),d(n,e),d(e,r),d(r,m),d(n,v),d(n,y),d(y,w),d(w,_),d(n,x),d(n,M),d(M,E),d(E,k),a&&I(S),S=[b(e,"click",t[0]),b(y,"click",t[0]),b(M,"click",t[0])]},p:g,i:g,o:g,d(t){t&&l(n),I(S)}}}function Il(t){const n=P();return[function(t){document.querySelector(".metric-control-container > .selected").classList.remove("selected"),this.classList.add("selected"),n("metricSelected",{metric:this.id})}]}class Pl extends n{constructor(t){super(),e(this,t,Il,Ll,r,{})}}function Ul(t){let n,e,r,m,v,y,w,_,x;return{c(){n=i("div"),e=i("div"),r=i("span"),m=o("Totales"),v=a(),y=i("div"),w=i("span"),_=o("Cada 100.000 hab."),this.h()},l(t){n=u(t,"DIV",{class:!0});var i=s(n);e=u(i,"DIV",{id:!0,class:!0});var o=s(e);r=u(o,"SPAN",{class:!0});var a=s(r);m=c(a,"Totales"),a.forEach(l),o.forEach(l),v=f(i),y=u(i,"DIV",{id:!0,class:!0});var p=s(y);w=u(p,"SPAN",{class:!0});var h=s(w);_=c(h,"Cada 100.000 hab."),h.forEach(l),p.forEach(l),i.forEach(l),this.h()},h(){p(r,"class","svelte-t8eqcl"),p(e,"id","total"),p(e,"class","selected button svelte-t8eqcl"),p(w,"class","svelte-t8eqcl"),p(y,"id","per-population"),p(y,"class","button svelte-t8eqcl"),p(n,"class","normalization-control-container svelte-t8eqcl")},m(i,o,a){h(i,n,o),d(n,e),d(e,r),d(r,m),d(n,v),d(n,y),d(y,w),d(w,_),a&&I(x),x=[b(e,"click",t[0]),b(y,"click",t[0])]},p:g,i:g,o:g,d(t){t&&l(n),I(x)}}}function Hl(t){const n=P();return[function(t){document.querySelector(".normalization-control-container > .selected").classList.remove("selected"),this.classList.add("selected"),n("normalizationSelected",{normalization:this.id})}]}class ql extends n{constructor(t){super(),e(this,t,Hl,Ul,r,{})}}const Fl=new Date("2020-02-27");function Vl(t,n,e){return function(t,n,e){return Bl(t[n],e)}(t,n,e).map((t,n,e)=>{let r;r=0===n?0:e[n-1].total;let i=t.total-r;return i=i<0?0:i,{ccaa:t.ccaa,cod_ine:t.cod_ine,fecha:t.fecha,total:i}})}function zl(t,n){return function(t,n){const e=Wl(Zl(t),["casos","altas","fallecimientos"]).filter(t=>t.fecha.getTime()>=Fl),r={cases:"casos",recovered:"altas",deaths:"fallecimientos"},i=[];return e.map(t=>{const e={fecha:t.fecha,total:t[r[n]]};i.push(e)}),i}(t,n).map((t,n,e)=>{let r;r=0===n?0:e[n-1].total;let i=t.total-r;return i=i<0?0:i,{fecha:t.fecha,total:i}})}function Yl(t){const n=Wl(Zl(t),["cod_ine"]),e=n.map(t=>t.fecha),r=new Date(Math.max.apply(null,e));return n.filter(t=>t.fecha.getTime()===r.getTime())}function Rl(t,n){const e=Wl(Zl(t),["cod_ine","total"]),r=e.map(t=>t.fecha),i=new Date(Math.max.apply(null,r));return e.filter(t=>t.fecha.setHours(0,0,0,0)===i.setHours(0,0,0,0)&&t.cod_ine===n)[0]}function Bl(t,n){const e=Zl(t).filter(t=>t.cod_ine===n);return e.sort((t,n)=>t.fecha-n.fecha),function(t){if(t[0].fecha.getTime()<=Fl.getTime())return t;const n=t[t.length-1],e=n.fecha;return function(t,n){const e=[];let r=t;for(;r.getTime()<n.getTime();)e.push(r),r=Xl(r,1);return e}(Fl,e).map((e,r,i)=>{const o=t.find(t=>t.fecha.setHours(0,0,0,0)===e.setHours(0,0,0,0));let a;return a=o||{cccaa:n.ccaa,cod_ine:n.cod_ine,fecha:e,total:0}})}(e)}function Zl(t){return t.map(t=>(t.fecha=new Date(t.fecha),t)),t}function Wl(t,n){return t.map(t=>(n.forEach(n=>t[n]=+t[n]),t)),t}function Xl(t,n){const e=new Date(t);return e.setDate(e.getDate()+n),e}function Ql(t,n,e){let r=6,i=320,o=44+r,a=18,u=20,s=16+r,c=0,l=4;const f=e.range();function p(r){const f=r.append("defs").append("linearGradient").attr("id","linear-gradient");f.attr("x1","0%").attr("y1","0%").attr("x2","100%").attr("y2","0%");const p=Zo().range(t);f.selectAll("stop").data(p.range()).enter().append("stop").attr("offset",function(t,n){return n/(p.range().length-1)}).attr("stop-color",function(t){return t}),r.append("rect").attr("x",c).attr("y",a).attr("width",i-c-u).attr("height",o-a-s).style("fill","url(#linear-gradient)");const h=st(e).ticks(l);r.append("g").attr("transform",`translate(0,${o-s})`).call(h).select(".domain").remove(),r.append("g").append("text").attr("x",c).attr("y",10).attr("font-size",10).attr("fill","currentColor").attr("font-family","sans-serif").attr("text-anchor","start").attr("font-weight","bold").text(n)}return e.range([f[0]+c,f[1]-u]),p.title=function(t){return arguments.length?(n=t,p):n},p.tickSize=function(t){return arguments.length?(r=t,p):r},p.width=function(t){return arguments.length?(i=t,p):i},p.height=function(t){return arguments.length?(o=t,p):o},p.marginTop=function(t){return arguments.length?(a=t,p):a},p.marginBottom=function(t){return arguments.length?(s=t,p):s},p.marginLeft=function(t){return arguments.length?(c=t,p):c},p.marginRight=function(t){return arguments.length?(u=t,p):u},p.ticks=function(t){return arguments.length?(l=t,p):l},p}function Jl(t){return t}function Gl(t,n){var e=n.id,r=n.bbox,i=null==n.properties?{}:n.properties,o=Kl(t,n);return null==e&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:e,properties:i,geometry:o}:{type:"Feature",id:e,bbox:r,properties:i,geometry:o}}function Kl(t,n){var e=function(t){if(null==t)return Jl;var n,e,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,u){u||(n=e=0);var s=2,c=t.length,l=new Array(c);for(l[0]=(n+=t[0])*r+o,l[1]=(e+=t[1])*i+a;s<c;)l[s]=t[s],++s;return l}}(t.transform),r=t.arcs;function i(t,n){n.length&&n.pop();for(var i=r[t<0?~t:t],o=0,a=i.length;o<a;++o)n.push(e(i[o],o));t<0&&function(t,n){for(var e,r=t.length,i=r-n;i<--r;)e=t[i],t[i++]=t[r],t[r]=e}(n,a)}function o(t){return e(t)}function a(t){for(var n=[],e=0,r=t.length;e<r;++e)i(t[e],n);return n.length<2&&n.push(n[0]),n}function u(t){for(var n=a(t);n.length<4;)n.push(n[0]);return n}function s(t){return t.map(u)}return function t(n){var e,r=n.type;switch(r){case"GeometryCollection":return{type:r,geometries:n.geometries.map(t)};case"Point":e=o(n.coordinates);break;case"MultiPoint":e=n.coordinates.map(o);break;case"LineString":e=a(n.arcs);break;case"MultiLineString":e=n.arcs.map(a);break;case"Polygon":e=s(n.arcs);break;case"MultiPolygon":e=n.arcs.map(s);break;default:return null}return{type:r,coordinates:e}}(n)}function tf(t,n){var e={},r={},i={},o=[],a=-1;function u(t,n){for(var r in t){var i=t[r];delete n[i.start],delete i.start,delete i.end,i.forEach(function(t){e[t<0?~t:t]=1}),o.push(i)}}return n.forEach(function(e,r){var i,o=t.arcs[e<0?~e:e];o.length<3&&!o[1][0]&&!o[1][1]&&(i=n[++a],n[a]=e,n[r]=i)}),n.forEach(function(n){var e,o,a=function(n){var e,r=t.arcs[n<0?~n:n],i=r[0];t.transform?(e=[0,0],r.forEach(function(t){e[0]+=t[0],e[1]+=t[1]})):e=r[r.length-1];return n<0?[e,i]:[i,e]}(n),u=a[0],s=a[1];if(e=i[u])if(delete i[e.end],e.push(n),e.end=s,o=r[s]){delete r[o.start];var c=o===e?e:e.concat(o);r[c.start=e.start]=i[c.end=o.end]=c}else r[e.start]=i[e.end]=e;else if(e=r[s])if(delete r[e.start],e.unshift(n),e.start=u,o=i[u]){delete i[o.end];var l=o===e?e:o.concat(e);r[l.start=o.start]=i[l.end=e.end]=l}else r[e.start]=i[e.end]=e;else r[(e=[n]).start=u]=i[e.end=s]=e}),u(i,r),u(r,i),n.forEach(function(t){e[t<0?~t:t]||o.push([t])}),o}function nf(t){return Kl(t,function(t,n,e){var r,i,o;if(arguments.length>1)r=function(t,n,e){var r,i=[],o=[];function a(t){var n=t<0?~t:t;(o[n]||(o[n]=[])).push({i:t,g:r})}function u(t){t.forEach(a)}function s(t){t.forEach(u)}return function t(n){switch(r=n,n.type){case"GeometryCollection":n.geometries.forEach(t);break;case"LineString":u(n.arcs);break;case"MultiLineString":case"Polygon":s(n.arcs);break;case"MultiPolygon":n.arcs.forEach(s)}}(n),o.forEach(null==e?function(t){i.push(t[0].i)}:function(t){e(t[0].g,t[t.length-1].g)&&i.push(t[0].i)}),i}(0,n,e);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:tf(t,r)}}.apply(this,arguments))}lr(Wu);var ef=1e-6;function rf(){}var of=1/0,af=of,uf=-of,sf=uf,cf={point:function(t,n){t<of&&(of=t);t>uf&&(uf=t);n<af&&(af=n);n>sf&&(sf=n)},lineStart:rf,lineEnd:rf,polygonStart:rf,polygonEnd:rf,result:function(){var t=[[of,af],[uf,sf]];return uf=sf=-(af=of=1/0),t}};function lf(t,n,e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),zr(e,t.stream(cf));var a=cf.result(),u=Math.min(r/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),s=+n[0][0]+(r-u*(a[1][0]+a[0][0]))/2,c=+n[0][1]+(i-u*(a[1][1]+a[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*u).translate([s,c])}function ff(){var t,n,e,r,i,o=Do().rotate([5,-38.6]).parallels([0,60]),a=Do().rotate([5,-38.6]).parallels([0,60]),u={point:function(t,n){i=[t,n]}};function s(t){var n=t[0],o=t[1];return i=null,e.point(n,o),i||(r.point(n,o),i)}function c(){return t=n=null,s}return s.invert=function(t){var n=o.scale(),e=o.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.05346&&i<.0897&&r>=-.13388&&r<-.0322?a:o).invert(t)},s.stream=function(e){return t&&n===e?t:(r=[o.stream(n=e),a.stream(e)],i=r.length,t={point:function(t,n){for(var e=-1;++e<i;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},s.precision=function(t){return arguments.length?(o.precision(t),a.precision(t),c()):o.precision()},s.scale=function(t){return arguments.length?(o.scale(t),a.scale(t),s.translate(o.translate())):o.scale()},s.translate=function(t){if(!arguments.length)return o.translate();var n=o.scale(),i=+t[0],s=+t[1];return e=o.translate(t).clipExtent([[i-.06857*n,s-.1288*n],[i+.13249*n,s+.06*n]]).stream(u),r=a.translate([i+.1*n,s-.094*n]).clipExtent([[i-.1331*n+ef,s+.053457*n+ef],[i-.0354*n-ef,s+.08969*n-ef]]).stream(u),c()},s.fitExtent=function(t,n){return lf(s,t,n)},s.fitSize=function(t,n){return function(t,n,e){return lf(t,[[0,0],n],e)}(s,t,n)},s.drawCompositionBorders=function(t){var n=o([-14.034675,34.965007]),e=o([-7.4208899,35.536988]),r=o([-7.3148275,33.54359]);t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1])},s.getCompositionBorders=function(){var t=Ye();return this.drawCompositionBorders(t),t.toString()},s.scale(2700)}const pf=750;function hf(t,n,e,r,i,o,a){let u=null;const s=tn(e).append("svg").attr("id","map-provinces"),c=e.offsetWidth,l=c/1.4;s.attr("viewBox",[0,0,c,l]);const f=V(t.map(t=>t.total)),p=or(".2r")(f[0]).replace(",","."),h=or(".2r")(f[1]),d=Ln(["#eceff4","#81a1c1","#5e81ac"]),m=Hu().domain([p,h]).interpolator(d),g=c>480?250:150,v=l-50,y=c-g,w=Ql(["#eceff4","#81a1c1","#5e81ac"],r,Go().domain([p,h]).range([0,g])).width(g);s.append("g").attr("id","legend").attr("transform",`translate( ${y}, ${v}) `).call(w);const b=nf(n),_=(x=n,M=n.objects.autonomous_regions,"string"==typeof M&&(M=x.objects[M]),"GeometryCollection"===M.type?{type:"FeatureCollection",features:M.geometries.map(function(t){return Gl(x,t)})}:Gl(x,M)).features;var x,M;const E=ff().fitExtent([[0,0],[c,l]],b),k=function(t,n){var e,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),zr(t,e(r))),r.result()}return o.area=function(t){return zr(t,e(ki)),ki.result()},o.measure=function(t){return zr(t,e(fo)),fo.result()},o.bounds=function(t){return zr(t,e(ji)),ji.result()},o.centroid=function(t){return zr(t,e(Wi)),Wi.result()},o.projection=function(n){return arguments.length?(e=null==n?(t=null,yi):(t=n).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(n=null,new mo):new io(n=t),"function"!=typeof i&&r.pointRadius(i),o):n},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(n)}(E);s.append("g").selectAll("path").data(_).join("path").attr("class","province").attr("d",k).attr("stroke","none").attr("fill",n=>{const e=+n.id,r=t.find(t=>t.cod_ine===e);return m(r.total)}).on("mouseover",function(t){if(u)return;i(t),tn(this).transition().duration(pf).attr("stroke","black").attr("stroke-width","1px")}).on("mouseout",function(t){if(u)return;o(t),tn(this).transition().duration(pf).attr("stroke","none")}).on("click",function(t){if(u)return u===+t.id?void(u=null):void 0;u=+t.id,tn(this).transition().duration(pf).attr("stroke","black").attr("stroke-width","2px")}).attr("data-tippy-content",n=>a(n,t)).each(function(t){ol(this).destroy(),ol(this,{allowHTML:!0,theme:"light"})});const S=nf(n,n.objects.autonomous_regions,(t,n)=>t!==n);nf(n,n.objects.provinces,(t,n)=>t!==n);return s.append("path").datum(S).attr("fill","none").attr("stroke","black").attr("stroke-width","0.5px").attr("stroke-linejoin","round").attr("d",k),s.append("path").attr("class","canary-islands-sep").attr("d",E.getCompositionBorders()).attr("fill","none").attr("stroke-width","0.5px").attr("stroke","black"),function(t,n){[...document.querySelectorAll("path.province")].forEach(t=>{t._tippy&&(console.log(t._tippy),t._tippy.destroy())}),tn("#legend").remove();const e=V(t.map(t=>t.total));console.log(e);const r=or(".2r")(e[0]).replace(",","."),i=or(".2r")(e[1]),o=Ln(["#eceff4","#81a1c1","#5e81ac"]),u=Hu().domain([r,i]).interpolator(o);s.selectAll("path.province").attr("data-tippy-content",n=>a(n,t)).transition().duration(pf).attr("fill",n=>{const e=+n.id,r=t.find(t=>t.cod_ine===e);return u(r.total)}).each(function(t){ol(this).destroy(),ol(this,{allowHTML:!0,theme:"light"})});const f=c>480?250:150,p=l-50,h=c-f,d=Ql(["#eceff4","#81a1c1","#5e81ac"],n,Go().domain([r,i]).range([0,f])).width(f);s.append("g").attr("id","legend").attr("transform",`translate( ${h}, ${p}) `).call(d)}}function df(t){let n,e,r,m,v,y,w;const b=new ql({});return b.$on("normalizationSelected",t[11]),{c(){n=i("div"),e=i("h2"),r=o("Casos reportados por comunidades autÃ³nomas"),m=a(),T(b.$$.fragment),v=a(),y=i("div"),this.h()},l(t){n=u(t,"DIV",{id:!0,class:!0});var i=s(n);e=u(i,"H2",{});var o=s(e);r=c(o,"Casos reportados por comunidades autÃ³nomas"),o.forEach(l),m=f(i),A(b.$$.fragment,i),v=f(i),y=u(i,"DIV",{id:!0}),s(y).forEach(l),i.forEach(l),this.h()},h(){p(y,"id","svg-container-map"),p(n,"id","container-map"),p(n,"class","svelte-pk3dfp")},m(t,i){h(t,n,i),d(n,e),d(e,r),d(n,m),C(b,n,null),d(n,v),d(n,y),w=!0},p:g,i(t){w||(M(b.$$.fragment,t),w=!0)},o(t){k(b.$$.fragment,t),w=!1},d(t){t&&l(n),D(b)}}}function mf(t,n,e){let r,i,o,a;v(t,ul,t=>e(3,r=t)),v(t,al,t=>e(4,i=t)),v(t,sl,t=>e(5,o=t));const u=P();let s;const c={cases:"contagiados",deaths:"fallecidos",recovered:"recuperados"};let l;function f(t){u("mouseoverRegion",{provinceId:+t.id})}function p(t){u("mouseoutRegion",{provinceId:+t.id})}function h(t,n){const e=+t.id,o=n.find(t=>t.cod_ine===e);let a;return a="total"===r?`<span>${o.total}</span> ${c[i]}<br>${o.ccaa}`:`<span>${or(".1f")(o.total)}</span> ${c[i]}/ 100.000 hab.<br>${o.ccaa}`}return y(async()=>{const t=await fetch(fl);e(0,a=await t.json()),window.addEventListener("resize",()=>{tn("svg#map-provinces").remove();const t=document.getElementById("svg-container-map");e(1,s=hf(o,a,t,l,f,p,h))})}),t.$$.update=(()=>{if(24&t.$$.dirty&&e(2,l="total"===r?`NÃºmero total de ${c[i]}`:`NÃºmero de ${c[i]} por cada 100.000 hab.`),39&t.$$.dirty&&a&&o&&!s){const t=document.getElementById("svg-container-map");e(1,s=hf(o,a,t,l,f,p,h))}54&t.$$.dirty&&i&&s&&s(o,l)}),[a,s,l,r,i,o,u,c,f,p,h,function(n){U(t,n)}]}class gf extends n{constructor(t){super(),e(this,t,mf,df,r,{})}}function vf(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function yf(t){return+t}var wf=[0,1];function bf(t){return t}function _f(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function xf(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=_f(i,r),o=e(a,o)):(r=_f(r,i),o=e(o,a)),function(t){return o(r(t))}}function Mf(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=_f(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=F(t,n,1,r)-1;return o[e](i[e](n))}}function Ef(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function kf(){var t,n,e,r,i,o,a=wf,u=wf,s=qn,c=bf;function l(){var t,n,e,s=Math.min(a.length,u.length);return c!==bf&&(t=a[0],n=a[s-1],t>n&&(e=t,t=n,n=e),c=function(e){return Math.max(t,Math.min(n,e))}),r=s>2?Mf:xf,i=o=null,f}function f(n){return isNaN(n=+n)?e:(i||(i=r(a.map(t),u,s)))(t(c(n)))}return f.invert=function(e){return c(n((o||(o=r(u,a.map(t),In)))(e)))},f.domain=function(t){return arguments.length?(a=Array.from(t,yf),l()):a.slice()},f.range=function(t){return arguments.length?(u=Array.from(t),l()):u.slice()},f.rangeRound=function(t){return u=Array.from(t),s=Fn,l()},f.clamp=function(t){return arguments.length?(c=!!t||bf,l()):c!==bf},f.interpolate=function(t){return arguments.length?(s=t,l()):s},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,l()}}function Sf(){return kf()(bf,bf)}function Tf(t){var n=t.domain;return t.ticks=function(t){var e=n();return B(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return function(t,n,e,r){var i,o=W(t,n,e);switch((r=Ke(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=pr(o,a))||(r.precision=i),ar(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=hr(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=fr(o))||(r.precision=i-2*("%"===r.type))}return or(r)}(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i=n(),o=0,a=i.length-1,u=i[o],s=i[a];return s<u&&(r=u,u=s,s=r,r=o,o=a,a=r),(r=Z(u,s,e))>0?r=Z(u=Math.floor(u/r)*r,s=Math.ceil(s/r)*r,e):r<0&&(r=Z(u=Math.ceil(u*r)/r,s=Math.floor(s*r)/r,e)),r>0?(i[o]=Math.floor(u/r)*r,i[a]=Math.ceil(s/r)*r,n(i)):r<0&&(i[o]=Math.ceil(u*r)/r,i[a]=Math.floor(s*r)/r,n(i)),t},t}var Af=1e3,Cf=60*Af,Df=60*Cf,Nf=24*Df,$f=7*Nf,Of=30*Nf,jf=365*Nf;function Lf(t){return new Date(t)}function If(t){return t instanceof Date?+t:+new Date(+t)}function Pf(){return vf.apply(function t(n,e,r,i,o,a,u,s,c){var l=Sf(),f=l.invert,p=l.domain,h=c(".%L"),d=c(":%S"),m=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),y=c("%b %d"),w=c("%B"),b=c("%Y"),_=[[u,1,Af],[u,5,5*Af],[u,15,15*Af],[u,30,30*Af],[a,1,Cf],[a,5,5*Cf],[a,15,15*Cf],[a,30,30*Cf],[o,1,Df],[o,3,3*Df],[o,6,6*Df],[o,12,12*Df],[i,1,Nf],[i,2,2*Nf],[r,1,$f],[e,1,Of],[e,3,3*Of],[n,1,jf]];function x(t){return(u(t)<t?h:a(t)<t?d:o(t)<t?m:i(t)<t?g:e(t)<t?r(t)<t?v:y:n(t)<t?w:b)(t)}function M(t,e,r){if(null==t&&(t=10),"number"==typeof t){var i,o=Math.abs(r-e)/t,a=q(function(t){return t[2]}).right(_,o);return a===_.length?(i=W(e/jf,r/jf,t),t=n):a?(i=(a=_[o/_[a-1][2]<_[a][2]/o?a-1:a])[1],t=a[0]):(i=Math.max(W(e,r,t),1),t=s),t.every(i)}return t}return l.invert=function(t){return new Date(f(t))},l.domain=function(t){return arguments.length?p(Array.from(t,If)):p().map(Lf)},l.ticks=function(t){var n,e=p(),r=e[0],i=e[e.length-1],o=i<r;return o&&(n=r,r=i,i=n),n=(n=M(t,r,i))?n.range(r,i+1):[],o?n.reverse():n},l.tickFormat=function(t,n){return null==n?x:c(n)},l.nice=function(t){var n=p();return(t=M(t,n[0],n[n.length-1]))?p(function(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(e=r,r=i,i=e,e=o,o=a,a=e),t[r]=n.floor(o),t[i]=n.ceil(a),t}(n,t)):l},l.copy=function(){return Ef(l,t(n,e,r,i,o,a,u,s,c))},l}(da,ha,la,sa,ua,aa,oa,ea,ka).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Uf(t){let n,e,r,m,v,y;return{c(){n=i("div"),e=i("p"),r=i("strong"),m=o("LineChart title"),v=a(),y=i("div"),this.h()},l(t){n=u(t,"DIV",{id:!0,class:!0});var i=s(n);e=u(i,"P",{});var o=s(e);r=u(o,"STRONG",{});var a=s(r);m=c(a,"LineChart title"),a.forEach(l),o.forEach(l),v=f(i),y=u(i,"DIV",{id:!0}),s(y).forEach(l),i.forEach(l),this.h()},h(){p(y,"id","svg-container-linechart"),p(n,"id","container-linechart"),p(n,"class","svelte-tfwscr")},m(t,i){h(t,n,i),d(n,e),d(e,r),d(r,m),d(n,v),d(n,y)},p:g,i:g,o:g,d(t){t&&l(n)}}}function Hf(t,n,e){let r;const i={top:20,right:30,bottom:30,left:40};function o(){const t=document.getElementById("svg-container-linechart"),n=tn("#svg-container-linechart").append("svg").attr("class","line-chart"),e=t.offsetWidth,o=e/2.4;n.attr("viewBox",[0,0,e,o]);const a=Pf().domain(V(r.map(t=>t.fecha))).range([i.left,e-i.right]),u=X(r.map(t=>t.total)),s=function t(){var n=Sf();return n.copy=function(){return Ef(n,t())},vf.apply(n,arguments),Tf(n)}().domain([0,u]).nice().range([o-i.bottom,i.top]),c=function(){var t=zu,n=Yu,e=qu(!0),r=null,i=Vu,o=null;function a(a){var u,s,c,l=a.length,f=!1;for(null==r&&(o=i(c=Ye())),u=0;u<=l;++u)!(u<l&&e(s=a[u],u,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(s,u,a),+n(s,u,a));if(c)return o=null,c+""||null}return a.x=function(n){return arguments.length?(t="function"==typeof n?n:qu(+n),a):t},a.y=function(t){return arguments.length?(n="function"==typeof t?t:qu(+t),a):n},a.defined=function(t){return arguments.length?(e="function"==typeof t?t:qu(!!t),a):e},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}().x(t=>a(t.fecha)).y(t=>s(t.total)).curve(Zu);n.append("g").call(t=>t.attr("transform",`translate(0,${o-i.bottom})`).call(st(a).ticks(e/80).tickSizeOuter(0))),n.append("g").call(t=>t.attr("transform",`translate(${i.left}, 0)`).call(ct(s).ticks(e/80))),n.append("path").datum(r).attr("fill","none").attr("stroke","steelblue").attr("class","chart-path").attr("stroke-width",2).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("d",c)}return y(async()=>{const t=await fetch(pl),n=await t.json();e(0,r=await Bl(n.data,1)),window.addEventListener("resize",()=>{tn("svg.line-chart").remove(),o()})}),t.$$.update=(()=>{1&t.$$.dirty&&r&&o()}),[]}class qf extends n{constructor(t){super(),e(this,t,Hf,Uf,r,{})}}const Ff=[{cod_ine:"01",total:8414240},{cod_ine:"02",total:1319291},{cod_ine:"03",total:1022800},{cod_ine:"04",total:1149460},{cod_ine:"05",total:2153389},{cod_ine:"06",total:581078},{cod_ine:"07",total:2399548},{cod_ine:"08",total:2032863},{cod_ine:"09",total:7675217},{cod_ine:"10",total:5003769},{cod_ine:"11",total:1067710},{cod_ine:"12",total:2699499},{cod_ine:"13",total:6663394},{cod_ine:"14",total:1493898},{cod_ine:"15",total:654214},{cod_ine:"16",total:2207776},{cod_ine:"17",total:316798},{cod_ine:"18",total:84777},{cod_ine:"19",total:86487},{cod_ine:"00",total:46934632,meta:"country total population"}],Vf=1e5;function zf(t){return t.map(t=>{const n=Ff.find(n=>+n.cod_ine==+t.cod_ine).total;return{fecha:t.fecha,cod_ine:t.cod_ine,ccaa:t.ccaa,total:t.total*Vf/n}})}function Yf(t){let n,e,r,a=ka("%e/%m/%Y")(t[0])+"";return{c(){n=i("p"),e=o("Datos actualizados a "),r=o(a),this.h()},l(t){n=u(t,"P",{class:!0});var i=s(n);e=c(i,"Datos actualizados a "),r=c(i,a),i.forEach(l),this.h()},h(){p(n,"class","svelte-15uc826")},m(t,i){h(t,n,i),d(n,e),d(n,r)},p(t,n){1&n&&a!==(a=ka("%e/%m/%Y")(t[0])+"")&&m(r,a)},d(t){t&&l(n)}}}function Rf(t){let n,e,r,m,g,v,y,w,b,_,x,E,S,N,$,O=t[0]&&Yf(t);const j=new Pl({});j.$on("metricSelected",Bf);const L=new gf({});L.$on("mouseoverRegion",t[1]),L.$on("mouseoutRegion",t[2]),L.$on("normalizationSelected",Zf);const I=new jl({}),P=new qf({});return{c(){n=i("div"),e=i("div"),r=i("h1"),m=o("Datos del coronavirus en EspaÃ±a: un anÃ¡lisis visual"),g=a(),O&&O.c(),v=a(),y=i("p"),w=o("Las comunidades con mayor nÃºmero de afectados en cifras absolutas son Madrid y CataluÃ±a debido, en parte, a que son las comunidades autÃ³nomas mÃ¡s pobladas del paÃ­s."),b=a(),_=i("div"),T(j.$$.fragment),x=a(),E=i("div"),T(L.$$.fragment),S=a(),T(I.$$.fragment),N=a(),T(P.$$.fragment),this.h()},l(t){n=u(t,"DIV",{class:!0});var i=s(n);e=u(i,"DIV",{class:!0});var o=s(e);r=u(o,"H1",{class:!0});var a=s(r);m=c(a,"Datos del coronavirus en EspaÃ±a: un anÃ¡lisis visual"),a.forEach(l),g=f(o),O&&O.l(o),o.forEach(l),v=f(i),y=u(i,"P",{});var p=s(y);w=c(p,"Las comunidades con mayor nÃºmero de afectados en cifras absolutas son Madrid y CataluÃ±a debido, en parte, a que son las comunidades autÃ³nomas mÃ¡s pobladas del paÃ­s."),p.forEach(l),i.forEach(l),b=f(t),_=u(t,"DIV",{class:!0});var h=s(_);A(j.$$.fragment,h),h.forEach(l),x=f(t),E=u(t,"DIV",{class:!0});var d=s(E);A(L.$$.fragment,d),S=f(d),A(I.$$.fragment,d),d.forEach(l),N=f(t),A(P.$$.fragment,t),this.h()},h(){p(r,"class","svelte-15uc826"),p(e,"class","heading svelte-15uc826"),p(n,"class","text-column"),p(_,"class","graphic"),p(E,"class","row graphic")},m(t,i){h(t,n,i),d(n,e),d(e,r),d(r,m),d(e,g),O&&O.m(e,null),d(n,v),d(n,y),d(y,w),h(t,b,i),h(t,_,i),C(j,_,null),h(t,x,i),h(t,E,i),C(L,E,null),d(E,S),C(I,E,null),h(t,N,i),C(P,t,i),$=!0},p(t,[n]){t[0]?O?O.p(t,n):((O=Yf(t)).c(),O.m(e,null)):O&&(O.d(1),O=null)},i(t){$||(M(j.$$.fragment,t),M(L.$$.fragment,t),M(I.$$.fragment,t),M(P.$$.fragment,t),$=!0)},o(t){k(j.$$.fragment,t),k(L.$$.fragment,t),k(I.$$.fragment,t),k(P.$$.fragment,t),$=!1},d(t){t&&l(n),O&&O.d(),t&&l(b),t&&l(_),D(j),t&&l(x),t&&l(E),D(L),D(I),t&&l(N),D(P,t)}}}function Bf(t){al.set(t.detail.metric)}function Zf(t){ul.set(t.detail.normalization)}function Wf(t,n,e){let r,i,o,a,u,s,c,l,f,p,h;v(t,al,t=>e(13,r=t)),v(t,ul,t=>e(14,i=t)),lr(Wu),Pu(Wu);let d=!1;al.set("cases"),ul.set("total");let m="";function g(){m?cl.set(function(t,n){const e=Rl(t.cases,n),r=e.total,i=Rl(t.recovered,n).total;return{casos:r,fallecimientos:Rl(t.deaths,n).total,altas:i,cod_ine:n,ccaa:e.ccaa}}(c,m)):cl.set(function(t){const n=Zl(t),e=n.map(t=>t.fecha),r=new Date(Math.max.apply(null,e));return n.filter(t=>t.fecha.getTime()===r.getTime())[0]}(o))}return y(async()=>{const t=await fetch(dl),n=await t.json();o=n.data,e(0,h=function(t){const n=Zl(t).map(t=>t.fecha);return new Date(Math.max.apply(null,n))}(o));const r=await fetch(pl),i=await r.json();a=i.data,l=zf(a);const m=await fetch(hl),g=await m.json();u=g.data,f=zf(u);const v=await fetch(hl),y=await v.json();s=y.data,p=zf(s),c={cases:a,deaths:u,recovered:s},e(11,d=!0)}),t.$$.update=(()=>{26624&t.$$.dirty&&r&&i&&d&&function(){if("cases"===r&&"total"===i)sl.set(Yl(a));else if("deaths"===r&&"total"===i)sl.set(Yl(u));else if("recovered"===r&&"total"===i)sl.set(Yl(s));else if("cases"===r&&"per-population"===i)sl.set(Yl(l));else if("deaths"===r&&"per-population"===i)sl.set(Yl(f));else{if("recovered"!==r||"per-population"!==i)throw`Unexpected state value: ${r}, ${i}`;sl.set(Yl(p))}}(),14336&t.$$.dirty&&(r||m)&&d&&(g(),m?ll.set(Vl(c,r,m)):ll.set(zl(o,r)))}),[h,function(t){e(12,m=t.detail.provinceId)},function(t){e(12,m="")}]}export default class extends n{constructor(t){super(),e(this,t,Wf,Rf,r,{})}}
